<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>CHAPTER 2 - Podman CLI</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-interactiveBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="d32e5446-9baa-4d74-bdcc-61e60fab218c" class="page sans"><header><img class="page-cover-image" src="CHAPTER%203%20-%20Podman%20Volumes%20b64d4ec35d414451b495ed33ad758db2/cover.png" style="object-position:center 48.11%"/><div class="page-header-icon page-header-icon-with-cover"><img class="icon" src="CHAPTER%201%20-%20Introducing%20Podman%207990d8ff3faf4954bcca45f5f1b5ccb2/favicon.png"/></div><h1 class="page-title">CHAPTER 2 - Podman CLI</h1><p class="page-description"></p></header><div class="page-body"><details open=""><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0">Working with <mark class="highlight-purple">containers</mark></summary><div class="indented"><ul id="676f13bf-5ddb-4b14-b36f-85cfe39b6459" class="toggle"><li><details open=""><summary><mark class="highlight-purple">Running </mark>Containers</summary><ul id="093d1dbd-13ed-4d0e-9792-cf3c7518cd0e" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman run </code></mark><mark class="highlight-purple"><code>-ti</code></mark><mark class="highlight-gray"><code> </code></mark><mark class="highlight-purple"><code>--rm</code></mark><mark class="highlight-gray"><code> registry.access.redhat.com/ubi8/httpd-24 </code></mark><mark class="highlight-purple"><code>bash</code></mark><ul id="fb50b54b-3bb1-4b56-a0c3-2ee69f72d7d6" class="bulleted-list"><li style="list-style-type:circle">Command breakdown:<ul id="f261500f-0555-4953-934a-9ee227fae232" class="bulleted-list"><li style="list-style-type:square">podman run <mark class="highlight-purple">⇒ </mark>run the container.</li></ul><ul id="3877b5b1-320e-4873-a0cd-3725fdb322db" class="bulleted-list"><li style="list-style-type:square"><mark class="highlight-purple"><code>-ti </code></mark><mark class="highlight-purple">⇒</mark> tells podman to hook up to the terminal.</li></ul><ul id="7749ce02-7063-4a96-a989-3c48f2abb2ed" class="bulleted-list"><li style="list-style-type:square"><mark class="highlight-purple"><code>--rm</code></mark><mark class="highlight-purple"> ⇒ </mark>tells podman to delete the container as soon as teh container exits</li></ul><ul id="a729f191-f473-459b-af02-1546fb3a416c" class="bulleted-list"><li style="list-style-type:square"><code><mark class="highlight-purple">bash</mark></code><mark class="highlight-purple"> ⇒ </mark>bash will override the default command the image runs with.</li></ul></li></ul><ul id="b6e7fd01-35ca-4085-ac34-28b9d28bc8aa" class="bulleted-list"><li style="list-style-type:circle">Once you run a different container on the same image ‘httpd’, podman will skip the image pulling step, because at the first time podman copies the blobs and stores them in the local container storage. </li></ul></li></ul><ul id="eb676ee2-7af5-4df6-bfb3-03991b6f2a36" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman run </code></mark><code><code><code><mark class="highlight-purple"><code>-d --name </code></mark></code></code></code><mark class="highlight-gray"><code>myapp </code></mark><mark class="highlight-purple"><code>-p</code></mark><mark class="highlight-gray"><code> 8080:8080 registry.access.redhat.com/ubi8/httpd-24</code></mark><ul id="7e864c39-847d-49d4-9e03-a675752c4300" class="bulleted-list"><li style="list-style-type:circle">Command breakdown:<ul id="610f1016-8502-4fe0-adc4-fd7b77957856" class="bulleted-list"><li style="list-style-type:square"><mark class="highlight-purple"><code>--name</code></mark> ⇒ Specify the container name.</li></ul><ul id="c1e6b319-dd79-4c8f-8999-2e7b80837f38" class="bulleted-list"><li style="list-style-type:square"><mark class="highlight-purple"><code>-d (--detach)</code></mark> ⇒ tells podman to detach the container after running.</li></ul><ul id="313aee8c-d811-40ee-8ecf-8f492044bf2e" class="bulleted-list"><li style="list-style-type:square"><code><mark class="highlight-purple">-p (--publish)</mark></code> ⇒ tells podman to publish or bind the container port <mark class="highlight-purple"><code>8080</code></mark><mark class="highlight-purple"> </mark>to the host port<mark class="highlight-purple"> </mark><code><mark class="highlight-purple">8080</mark></code><mark class="highlight-purple"> </mark>when the container is running. <ul id="e2b3d38e-46dd-4d4d-9f6d-b0cb1c8fd7d3" class="bulleted-list"><li style="list-style-type:disc">Note that if you specify one port, podman will consider this port a container port and randomly picks a host port on which the container port is bound. use <mark class="highlight-purple"><code>podman port</code></mark> to discover which ports are bound to a container.<pre id="d3d65804-88f3-4b4b-874f-86c3dd16e212" class="code"><code>[root@kit ~]$ podman port d893198d7ab0
8080/tcp -&gt; 0.0.0.0:8080 #port 8080/tcp inside the container is bound to all of the host networks (0.0.0.0) at port 8080</code></pre></li></ul></li></ul></li></ul></li></ul></details></li></ul><ul id="b466dce7-9f39-4ac4-aa21-86c5214b4b84" class="toggle"><li><details open=""><summary><mark class="highlight-purple">Stopping</mark> Containers</summary><ul id="ca0beb2e-adec-49d9-97d2-82079cf46eb8" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman </code></mark><mark class="highlight-purple"><code>stop </code></mark><mark class="highlight-gray"><code>myapp</code></mark></li></ul><ul id="1bb6bfe9-ed7e-4577-95f9-3507b165be93" class="bulleted-list"><li style="list-style-type:disc">When stopping a container, Podman examines the running container and sends a stop signal, usually <strong>SIGTERM, </strong>to the primary proc ‘<mark class="highlight-purple">PID1</mark>’ of the container.</li></ul><ul id="f3c259a7-0958-4171-a3cd-1ddde7f90f77" class="bulleted-list"><li style="list-style-type:disc">By default, Podman waits 10 seconds to clean up and commit changes before sending <strong>SIGKILL </strong>signal to the process, forcing the container to stop.</li></ul><ul id="0737b567-a515-440f-bdea-123f7a523a31" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman run</code></mark><code> </code><mark class="highlight-purple"><code>--stop-signal</code></mark><mark class="highlight-purple"> ⇒ </mark>to change the default stop signal.</li></ul><ul id="312eeda1-9171-4a87-874b-3b818ad7a838" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><code>--timeout(-t)</code></mark> <mark class="highlight-purple">⇒ </mark>sets the timeout; -t 0 sends the SIGKILL without waiting for the container to stop.</li></ul><ul id="73e50b14-e02d-4ba1-b5e1-eb9e05fd9b4f" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><code>--latest(-l)</code></mark> <mark class="highlight-purple">⇒ </mark>stop the last created container.</li></ul><ul id="d3942362-56db-4855-a273-57a571c3fbc5" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><code>--all</code></mark><mark class="highlight-purple"> ⇒</mark> stop all running containers. </li></ul></details></li></ul><ul id="f0e6d212-7227-4ef5-98fa-2add97d327fe" class="toggle"><li><details open=""><summary><mark class="highlight-purple">Starting </mark>Containers</summary><ul id="66030685-3ad1-4b66-8d4a-2fc982b1a87c" class="bulleted-list"><li style="list-style-type:disc">podman start myapp</li></ul><ul id="bca3068b-db69-49c8-ab25-375d485818e8" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><code>--all </code></mark><mark class="highlight-purple">⇒</mark> Starts all the stopped containers in container storage</li></ul><ul id="e5b44754-1147-46e1-834e-df03cba0a26e" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><code>--attach</code></mark><mark class="highlight-purple"> ⇒</mark> this attaches your terminal to the output of the container.</li></ul><ul id="d01a203a-1e4b-422e-9e28-134a9cf58b12" class="bulleted-list"><li style="list-style-type:disc"><code><mark class="highlight-purple">-i</mark></code><mark class="highlight-purple"> ⇒ </mark>attaches to tty to container</li></ul></details></li></ul><ul id="987e6b7b-638e-46c2-b1e3-cbd96ba9ccdd" class="toggle"><li><details open=""><summary><mark class="highlight-purple">Listing </mark>Containers</summary><ul id="a7c2e38c-887f-484f-9b47-c78b9c70cb47" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman ps</code></mark><ul id="3bafab5d-48e2-4e04-a002-a36f42ce00bf" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-purple"><code>--all </code></mark><mark class="highlight-purple">⇒ </mark>list all containers running/stopped state.</li></ul><ul id="0abcb62d-347d-4f13-a038-e3c860fc4b9c" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-purple"><code>--quiet </code></mark><mark class="highlight-purple">⇒</mark> only print the container ID.</li></ul><ul id="599c2ea3-85fe-4052-9402-fa3a05139636" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-purple"><code>--size </code></mark><mark class="highlight-purple">⇒ </mark>Return the amount of disk space currently used other for each container other than the image they are based on.</li></ul></li></ul></details></li></ul><ul id="77db6f95-e54b-4d4f-9711-38c32d105b06" class="toggle"><li><details open=""><summary><mark class="highlight-purple">Inspecting </mark>Containers</summary><ul id="23db24e6-6072-41a9-b69b-55e81fd527d7" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman inspect myapp</code></mark><mark class="highlight-gray">  </mark>this will return a large JSON file, this information are handed down to the OCI runtime to launch the container.</li></ul><ul id="abb057b3-365f-47fc-a8c1-335c6f45bfd6" class="bulleted-list"><li style="list-style-type:disc">You can inspect a specific information by running the following command</li></ul><ul id="25025637-b806-48d6-aca9-115016f2f102" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman inspect </code></mark><mark class="highlight-purple"><code>--format ‘{{  .Config.Cmd }}’</code></mark><mark class="highlight-gray"><code> myapp</code></mark><mark class="highlight-gray"> ⇒ </mark>Get the default cmd<mark class="highlight-gray">.</mark></li></ul><ul id="fb684997-2892-4037-a634-a98da9b8efa6" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman inspect</code></mark><mark class="highlight-purple"><code> —format ‘{{ .NetworkSettings.IPAdress }}’ </code></mark><mark class="highlight-gray"><code>myapp</code></mark> ⇒ get the ipaddress.<ul id="d52ed1d6-82ec-4f3c-8236-063ab435e6e1" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-purple"><code>-l </code></mark><mark class="highlight-purple">⇒ </mark>inspect last created container.</li></ul><ul id="125b8cd3-8b49-40bc-babf-6dfe3a146d9c" class="bulleted-list"><li style="list-style-type:circle"><code><mark class="highlight-purple">--format </mark></code><mark class="highlight-purple">⇒ </mark>used to extract particular field out of the JSON.</li></ul></li></ul></details></li></ul><ul id="3e28ae72-05c0-454f-902b-0cee8cb5ea6f" class="toggle"><li><details open=""><summary><mark class="highlight-purple">Removing </mark>Containers.</summary><ul id="6c6dd790-004f-468b-ad42-af5d7545f0c7" class="bulleted-list"><li style="list-style-type:disc">podman rm myapp<ul id="db530d1e-0cc7-41ff-9d85-adc7dd8e6b25" class="bulleted-list"><li style="list-style-type:circle"><code><mark class="highlight-purple">--all</mark></code><mark class="highlight-purple"> ⇒</mark> remove all existing containers</li></ul><ul id="0cf33d02-9460-4b4f-b673-713c77a498ae" class="bulleted-list"><li style="list-style-type:circle"><code><mark class="highlight-purple">--force</mark></code><mark class="highlight-purple"> ⇒ </mark>tells podman to stop all the running container when removing.</li></ul></li></ul></details></li></ul><ul id="d4878034-02fb-4fe2-a016-cacc3dbc13cd" class="toggle"><li><details open=""><summary><mark class="highlight-purple">exec-ing </mark>into Containers.</summary><ul id="9a591dcb-e203-45f9-83ac-60923bf27d79" class="bulleted-list"><li style="list-style-type:disc">to execute a command inside a container use the following command:<ul id="14a25285-b008-454c-bb4d-d2a0cb30cd7a" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-gray"><code>podman </code></mark><mark class="highlight-purple"><code>exec</code></mark><mark class="highlight-gray"><code> myapp</code></mark><mark class="highlight-purple"><code> bash</code></mark></li></ul></li></ul><ul id="618c92ae-e1d1-49b3-8e39-ad54d62988c1" class="bulleted-list"><li style="list-style-type:disc">Another great utility with exec,e.g. the following command will create an index.html file.</li></ul><pre id="cd19c375-f0e7-4acb-94c0-46477f1192e7" class="code"><code>$ podman exec -i myapp bash -c &#x27;cat &gt; /var/www/html/index.html&#x27; &lt;&lt; EOF
&lt;html&gt;
	&lt;h1&gt;hello world&lt;/h1&gt;
&lt;/html&gt;
EOF</code></pre></details></li></ul><ul id="c19f2303-a082-4a55-83ff-b841a32430f1" class="toggle"><li><details open=""><summary><mark class="highlight-purple">Creating an image </mark>from a Container</summary><ul id="eb29ed65-75aa-4d01-b5ec-f164495025f0" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podma </code></mark><mark class="highlight-purple"><code>commit </code></mark><mark class="highlight-gray"><code>&lt;cont_name&gt; &lt;img_name&gt;</code></mark><ul id="7fab2097-74fb-42f8-a37f-4c9e1d544808" class="bulleted-list"><li style="list-style-type:circle"><code><mark class="highlight-purple">--pause </mark></code><mark class="highlight-purple">⇒ </mark>pauses a running container during the commit. “serves as <mark class="highlight-purple"><code>podman pause</code></mark> command”.</li></ul><ul id="212299f1-15d4-4b61-985e-970c1df33695" class="bulleted-list"><li style="list-style-type:circle"><code><mark class="highlight-purple">--change </mark></code><mark class="highlight-purple">⇒ </mark>Allwos you to commit instruction on using the image; e.g. CMD, ENV, EXPOSE, WORKDIR, ONBUILD, LABEL..</li></ul></li></ul><ul id="7e5e6c0a-cf61-4fbc-8905-7a1829a53e09" class="bulleted-list"><li style="list-style-type:disc">Stop/pause the container before commiting the container to an OCI image.</li></ul><ul id="b89ac1ae-5801-4c37-8bce-88998d944df1" class="bulleted-list"><li style="list-style-type:disc">After stopping the container you can use podman commit to take your application container, myapp, and commit it, creating a new image name myimage.<pre id="2e3662fa-9ce3-42cb-ad9f-103c7378ed7c" class="code"><code>$ podman commit myapp myimage
Getting image source signatures
Copying blob 24839d45ca45 skipped: already exists  
Copying blob 869dee90d0e8 skipped: already exists  
Copying blob 5eb4ca2c6faa skipped: already exists  
Copying blob e614afcf9060 skipped: already exists  
Copying blob ac313715f43f skipped: already exists  
Copying blob 39bdb39cf5b4 done  
Copying config 2da4f3d011 done  
Writing manifest to image destination
Storing signatures
2da4f3d011ec448777e8acb46629e936c087a569a418948ba75c99a26a1a8266

$ podman images 
REPOSITORY                            TAG              IMAGE ID      CREATED         SIZE
localhost/myimage                     latest           2da4f3d011ec  56 seconds ago  173 MB</code></pre></li></ul><ul id="ee2dabd4-b9c2-4b42-afc6-d53a54054380" class="bulleted-list"><li style="list-style-type:disc">Using the podman commit command to create an image is not a common method, the entire process of building container images can be scripted and automated using podman build.</li></ul></details></li></ul><ul id="e7499640-224d-4d5b-874f-a8e28280256d" class="toggle"><li><details open=""><summary><mark class="highlight-purple">More </mark>Commands</summary><figure id="f0497400-4a86-486a-81d4-12d3400cb608" class="image"><a href="CHAPTER%202%20-%20Podman%20CLI%20d32e54469baa4d74bdcc61e60fab218c/Untitled.png"><img style="width:672px" src="CHAPTER%202%20-%20Podman%20CLI%20d32e54469baa4d74bdcc61e60fab218c/Untitled.png"/></a></figure><figure id="7b18252a-4f6d-44c2-b31e-e37c29088f71" class="image" style="text-align:right"><a href="CHAPTER%202%20-%20Podman%20CLI%20d32e54469baa4d74bdcc61e60fab218c/Untitled%201.png"><img style="width:624px" src="CHAPTER%202%20-%20Podman%20CLI%20d32e54469baa4d74bdcc61e60fab218c/Untitled%201.png"/></a></figure></details></li></ul><details open=""><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0">Summary</summary><div class="indented"><table id="70cc136a-b525-48fa-979e-debaa9f92051" class="simple-table"><tbody><tr id="7a2dcb94-9b7b-4bb3-a32f-33736742f16f"><td id="oWZG" class="" style="width:175px">Command </td><td id="OWUg" class="" style="width:229px">Description</td><td id="bU@U" class="" style="width:356px">Args</td></tr><tr id="737923c4-d757-41ab-9775-a2a5f0424899"><td id="oWZG" class="" style="width:175px"><mark class="highlight-purple"><code>podman run</code></mark></td><td id="OWUg" class="" style="width:229px">run a container. </td><td id="bU@U" class="" style="width:356px"><mark class="highlight-purple"><code>-d</code></mark><mark class="highlight-purple"> </mark> Run container in background and print container ID
• <mark class="highlight-purple"><code>it</code></mark><mark class="highlight-purple"> </mark>- Attach TTY.
• <mark class="highlight-purple"><code>-name</code></mark><mark class="highlight-purple"> </mark>- Assign a name to the container.
• <mark class="highlight-purple"><code>-p</code></mark> - Publish a container&#x27;s port to the host.
• <mark class="highlight-purple"><code>-user</code></mark> - run the container as a specific user.</td></tr><tr id="66e98205-bea0-45f0-9f63-8a5d9fd59d74"><td id="oWZG" class="" style="width:175px"><mark class="highlight-purple"><code>podman create</code></mark><mark class="highlight-purple"> </mark></td><td id="OWUg" class="" style="width:229px">create a container without starting it.</td><td id="bU@U" class="" style="width:356px"><mark class="highlight-purple"><code>-name</code></mark> - Assign a name to the container</td></tr><tr id="d13b3c24-6f3d-490a-bec2-854b165b8a22"><td id="oWZG" class="" style="width:175px"><mark class="highlight-purple"><code>podman start</code></mark></td><td id="OWUg" class="" style="width:229px">start one or more containers.</td><td id="bU@U" class="" style="width:356px"><mark class="highlight-purple"><code>-all</code></mark><mark class="highlight-purple"> </mark>- Start all containers.</td></tr><tr id="7859142a-7ce7-4272-8dd8-49d0882d5908"><td id="oWZG" class="" style="width:175px"><mark class="highlight-purple"><code>podman stop</code></mark></td><td id="OWUg" class="" style="width:229px"> stop one or more containers.</td><td id="bU@U" class="" style="width:356px"><mark class="highlight-purple"><code>-all</code></mark> - Stop all containers.</td></tr><tr id="1cf26185-275c-4d1e-a7bb-bcbe26162f8c"><td id="oWZG" class="" style="width:175px"><mark class="highlight-purple"><code>podman restart</code></mark> </td><td id="OWUg" class="" style="width:229px">restart one or more containers</td><td id="bU@U" class="" style="width:356px"><mark class="highlight-purple"><code>-all</code></mark><mark class="highlight-purple"> </mark>- Restart all containers.</td></tr><tr id="27bf8ba0-2161-452b-b656-78019ff11e21"><td id="oWZG" class="" style="width:175px"><mark class="highlight-purple"><code>podman kill</code></mark></td><td id="OWUg" class="" style="width:229px"> send a signal to one or more containers.</td><td id="bU@U" class="" style="width:356px"><mark class="highlight-purple"><code>-all</code></mark><mark class="highlight-purple"> </mark>- Send signal to all containers.</td></tr><tr id="24c49a1a-5a9b-4368-b1a0-08d763cc7eca"><td id="oWZG" class="" style="width:175px"><mark class="highlight-purple"><code>podman rm</code></mark></td><td id="OWUg" class="" style="width:229px">remove one or more containers.</td><td id="bU@U" class="" style="width:356px">• <mark class="highlight-purple"><code>-all</code></mark> - Remove all containers.
•<mark class="highlight-purple"> </mark><mark class="highlight-purple"><code>-f</code></mark><mark class="highlight-purple"> </mark>- Force removal of running containers.</td></tr><tr id="0660fb47-ad8c-4624-b768-af5a9b11b269"><td id="oWZG" class="" style="width:175px"><mark class="highlight-purple"><code>podman ps</code></mark></td><td id="OWUg" class="" style="width:229px"> list running containers.</td><td id="bU@U" class="" style="width:356px"><mark class="highlight-purple"><code>a</code></mark><mark class="highlight-purple"> </mark>- Show all containers.
<code><mark class="highlight-purple">q</mark></code>- Only print the Container ID</td></tr><tr id="37269129-52c1-43e3-83e0-66624d93f077"><td id="oWZG" class="" style="width:175px"><mark class="highlight-purple"><code>podman exec</code></mark></td><td id="OWUg" class="" style="width:229px">run a command in a running contai.</td><td id="bU@U" class="" style="width:356px"><mark class="highlight-purple"><code>it</code></mark><mark class="highlight-purple"> </mark>- Attach TTY</td></tr><tr id="85e12fc7-4f28-419a-b073-4f072350d21e"><td id="oWZG" class="" style="width:175px"><mark class="highlight-purple"><code>podman commit</code></mark></td><td id="OWUg" class="" style="width:229px">create a new image from a container.</td><td id="bU@U" class="" style="width:356px"><mark class="highlight-purple"><code>-change</code></mark><mark class="highlight-purple"> </mark>- Apply Dockerfile instruction during commi</td></tr><tr id="e70ea8a6-8ee1-4499-9df7-2cb3893746f7"><td id="oWZG" class="" style="width:175px"><mark class="highlight-purple"><code>podman pull</code></mark></td><td id="OWUg" class="" style="width:229px">pull an image from a registry.</td><td id="bU@U" class="" style="width:356px"></td></tr><tr id="235e0512-a976-4b84-9738-7ed904f9763b"><td id="oWZG" class="" style="width:175px"><mark class="highlight-purple"><code>podman push</code></mark></td><td id="OWUg" class="" style="width:229px">push an image to a registry.</td><td id="bU@U" class="" style="width:356px"></td></tr><tr id="1a8ce9a0-5fcd-4e2b-927e-67c18926b059"><td id="oWZG" class="" style="width:175px"><mark class="highlight-purple"><code>podman login</code></mark><mark class="highlight-purple"> / </mark><mark class="highlight-purple"><code>logout</code></mark></td><td id="OWUg" class="" style="width:229px">log in/out to/from a registry.</td><td id="bU@U" class="" style="width:356px"></td></tr></tbody></table></div></details></div></details><details open=""><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0">Working with <mark class="highlight-purple">images</mark></summary><div class="indented"><ul id="bbefdf69-0661-4d4b-90d4-842578591f44" class="toggle"><li><details open=""><summary><mark class="highlight-purple">Image </mark>layers (blobs).</summary><ul id="d4214f1a-0e0e-4b78-9471-935d517711d5" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman image </code></mark><mark class="highlight-purple"><code>tree &lt;image_name&gt;</code></mark><mark class="highlight-purple"> ⇒ </mark>Shows layers of an image.</li></ul><ul id="0bc98b0c-a83e-43da-8acb-3be8d334f513" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman image diff</code></mark><mark class="highlight-purple"><code> &lt;image_name1&gt; &lt;image_name2&gt;</code></mark><mark class="highlight-purple"> ⇒ </mark>Shows the difference between 2 images (C) - Changed, (D) - Deleted, (A) - Added.</li></ul></details></li></ul><ul id="b206762d-82e1-4321-87a9-3e8a5c48856f" class="toggle"><li><details open=""><summary>Listing <mark class="highlight-purple">Images</mark></summary><ul id="b6e2e549-4b5f-400d-8f30-2adefb8d1637" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman </code></mark><code><mark class="highlight-purple">images --all</mark></code><mark class="highlight-purple"> ⇒ </mark>lists all the images.<ul id="5ba9be0b-96be-49b8-adeb-9a53f5169371" class="bulleted-list"><li style="list-style-type:circle">When an image is replaced by a newer image with the same tag, the perivous images is tagged as &lt;none&gt;&lt;none&gt;. Hence, they called <strong><mark class="highlight-purple">dangling images</mark></strong>. </li></ul></li></ul></details></li></ul><ul id="129ca19b-e20f-4d50-86cc-f580720b750c" class="toggle"><li><details open=""><summary>Inspecting <mark class="highlight-purple">Images</mark></summary><ul id="342cbf34-8c2d-428c-9cb4-0e9544ac71ae" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman image</code></mark><mark class="highlight-purple"><code> inspect</code></mark><mark class="highlight-purple"> ⇒ </mark>Outputs a large JSON array that includes daya used for the OCI image format specification.</li></ul><ul id="4d0e6f52-ac82-4f92-a978-eccf72106c59" class="bulleted-list"><li style="list-style-type:disc">use the <mark class="highlight-purple"><code>--format</code></mark><mark class="highlight-purple"> </mark>flagag to get a particular field out of the JSON.<ul id="11673d5a-1990-400a-896e-6d8b66eb6d62" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-gray"><code>podman image</code></mark><code><mark class="highlight-purple"> inspect --format &#x27;{{ .Config.Cmd }}&#x27; myimage</mark></code></li></ul><ul id="34d477ab-def8-498b-8130-001407eb1ce1" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-gray"><code>podman image</code></mark><code><mark class="highlight-purple"> inspect --format &#x27;{{ .Config.StopSignal }}&#x27; myimage</mark></code><mark class="highlight-purple">   </mark></li></ul></li></ul><p id="c0a3416e-fa11-4bd7-8c5c-c59316d05ed6" class="">
</p></details></li></ul><ul id="ca0ab816-5e1f-4f96-9526-160087bb4674" class="toggle"><li><details open=""><summary>Pushing <mark class="highlight-purple">Images</mark></summary><ul id="5aeb0dec-2044-4246-8fd3-fb550e1a95aa" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman push </code></mark><mark class="highlight-purple"><code>&lt;image_name&gt; &lt;dest&gt;</code></mark><mark class="highlight-purple"> ⇒ </mark>used to push an image from local to remote registry.<ul id="333251e9-8e8b-42aa-8927-8c66afdf1489" class="bulleted-list"><li style="list-style-type:circle">You have to <mark class="highlight-gray"><code>podman login </code></mark>before pusihing. You can use <mark class="highlight-purple"><code>--username</code></mark> flag to specify the username.</li></ul><ul id="617e866b-6d06-431f-b208-9d5d081aa679" class="bulleted-list"><li style="list-style-type:circle">by default, the creds are stored in /run/user/$UID/containers/auth.json.</li></ul><pre id="06cafe5d-4dc5-4016-9523-4e5ec2639dbd" class="code"><code>[chxmxii@kit ~]$ cat /tmp/podman-run-1002/containers/auth.json 
{
	&quot;auths&quot;: {
		&quot;quay.io&quot;: {
			&quot;auth&quot;: &quot;BASE64==&quot;
		}
	}</code></pre></li></ul><figure id="d306fa31-75ef-4714-9015-d751d8460f0e" class="image"><a href="CHAPTER%202%20-%20Podman%20CLI%20d32e54469baa4d74bdcc61e60fab218c/Untitled%202.png"><img style="width:778px" src="CHAPTER%202%20-%20Podman%20CLI%20d32e54469baa4d74bdcc61e60fab218c/Untitled%202.png"/></a></figure><figure id="f98c179e-5653-4f52-970b-6d6cab6970f1" class="image"><a href="CHAPTER%202%20-%20Podman%20CLI%20d32e54469baa4d74bdcc61e60fab218c/Untitled%203.png"><img style="width:782px" src="CHAPTER%202%20-%20Podman%20CLI%20d32e54469baa4d74bdcc61e60fab218c/Untitled%203.png"/></a></figure><p id="53d67d3b-b040-41dc-8892-c80f1cb745ad" class="">
</p></details></li></ul><ul id="a571dcb6-ea9d-4a73-9abc-32c68827aa9d" class="toggle"><li><details open=""><summary>Tagging <mark class="highlight-purple">Images</mark></summary><ul id="e9a50ae2-507c-40d7-ad5a-a9fda0fec55f" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman </code></mark><mark class="highlight-purple"><code>tag </code></mark><mark class="highlight-gray"><code>myimage </code></mark><mark class="highlight-purple"><code>quay.io/chxmxii/myimage</code></mark></li></ul><ul id="914ec59e-ccc3-42c2-877f-98538176e8c7" class="bulleted-list"><li style="list-style-type:disc">Notice that <mark class="highlight-purple"><code>localhost/myimage</code></mark> and  <mark class="highlight-purple"><code>quay.io/chxmxii/myimage</code></mark><mark class="highlight-purple"> </mark>have the same container ID.</li></ul><ul id="6b4c08f3-b147-4909-aeab-0cd19af45024" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"> </mark>Now you can push the image using the <mark class="highlight-purple"><code>podman push quay.io/chxmxii/myimage</code></mark><mark class="highlight-purple"> </mark>commad.</li></ul><ul id="d7d300bb-16bc-4205-a642-8374dba1a0a3" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman </code></mark><mark class="highlight-purple"><code>tag </code></mark><mark class="highlight-gray"><code>myimage </code></mark><mark class="highlight-purple"><code>quay.io/chxmxii/myimage </code></mark><mark class="highlight-gray"><code>quay.io/chxmxii/myimage:1.0</code></mark></li></ul><ul id="693a86db-f9a5-42ac-9694-77704a7a9503" class="bulleted-list"><li style="list-style-type:disc">is important to note that the tag “latest” doesn’t refer to the most up-to-date image in the repo.</li></ul></details></li></ul><ul id="5734ba53-0276-41fe-8db0-506fc1e29c1a" class="toggle"><li><details open=""><summary>Removing <mark class="highlight-purple">Images</mark></summary><ul id="a047befb-e8fd-4b26-97ca-a34416f5739e" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman rmi </code></mark><mark class="highlight-purple"><code>localhost/myimage</code></mark></li></ul><ul id="d2fa5ac0-e888-430f-adce-51254dd49ba1" class="bulleted-list"><li style="list-style-type:disc">Note that podman will remove any tags before getting rid of the image.</li></ul><ul id="45f6919f-79f7-439d-bad2-d165d0f93202" class="bulleted-list"><li style="list-style-type:disc">You can remove the image by specifiying is ID.</li></ul><ul id="4348f692-024e-42d3-84a9-2dfde77b5dc9" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman image </code></mark><mark class="highlight-purple"><code>prune </code></mark><mark class="highlight-gray"><code>-a </code></mark> ⇒ This will remove all the dangling images. add <mark class="highlight-purple"><code>-f</code></mark><mark class="highlight-purple"> </mark>option to get rid of all the images, even those used by a container.<ul id="1aad8d67-bf9a-4ed4-9702-2af7e6850515" class="bulleted-list"><li style="list-style-type:circle">Dangling images are images that no longer have a tag associated with them or a container using them.</li></ul></li></ul><ul id="1647bebc-f2ae-4a9e-8623-4f947fd56ccc" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-purple"><code>podman system df </code></mark>⇒ This will show all of the storage in your home dir used by podman.</li></ul></details></li></ul><ul id="4c397ae7-af77-458a-9be2-17dd0676a07b" class="toggle"><li><details open=""><summary>Pulling <mark class="highlight-purple">Images</mark></summary><ul id="1d4520aa-cb77-47bd-9cc7-439f03d4f65f" class="bulleted-list"><li style="list-style-type:disc">to pull an image from a registry use the following command<ul id="fe56b2f8-14bf-4069-8f55-40b51bb8f9a2" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-gray"><code>podman</code></mark><code><mark class="highlight-purple"> pull </mark></code><mark class="highlight-gray"><code>quay.io/chxmxii/myimage</code></mark><mark class="highlight-gray"> </mark> \ some noteable options<ul id="01278962-1d96-4562-9a19-48a592248475" class="bulleted-list"><li style="list-style-type:square"><code><mark class="highlight-gray">--arch</mark></code><mark class="highlight-gray"> ⇒ </mark>tells podman to pull an image for a different arch e.g. arm64 image. </li></ul><ul id="b6845997-ee83-4f1c-83ba-b90a010f53a7" class="bulleted-list"><li style="list-style-type:square"><mark class="highlight-gray"><code>--quiet /-q</code></mark><mark class="highlight-gray"> ⇒ </mark>tells podman to not print out the progress information.</li></ul></li></ul></li></ul></details></li></ul><ul id="7cc1cd68-ec62-47f7-a367-1887aecfc1d9" class="toggle"><li><details open=""><summary>Seaching for <mark class="highlight-purple">Images</mark></summary><ul id="961b2082-b536-4186-b116-7b55140a0cc1" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray"><code>podman </code></mark><mark class="highlight-purple"><code>search</code></mark><mark class="highlight-gray"><code> registry.access.redhat.com/httpd</code></mark></li></ul><ul id="ceac3658-e1fd-4ea3-9695-d841197b9cba" class="bulleted-list"><li style="list-style-type:disc">Some noteable options<ul id="54ddc623-00a5-44f0-9b62-03b9477e1b80" class="bulleted-list"><li style="list-style-type:circle"><code><mark class="highlight-gray">--no-trunc </mark></code><mark class="highlight-gray">⇒ </mark>tells podman to show full description.</li></ul><ul id="2b762073-bf79-46db-9f2f-3baeaa0d810d" class="bulleted-list"><li style="list-style-type:circle"><code><mark class="highlight-gray">--foramt </mark></code><mark class="highlight-gray">⇒ </mark>tells podman to display a specific field.</li></ul></li></ul></details></li></ul><ul id="7450cedb-0c0c-4ebb-8aed-e8063e15980f" class="toggle"><li><details open=""><summary>Mounting <mark class="highlight-purple">Images</mark></summary><ul id="2414eda1-9f36-465f-bed3-81268ca8a391" class="bulleted-list"><li style="list-style-type:disc">Podman provides the <mark class="highlight-gray"><code>podman image </code></mark><code><mark class="highlight-purple">mount docker.io/library/httpd</mark></code>command to mount an image’s rootfs in a read-only mode without creating a container from it. This will help you to examine the content of your image.<figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="05cc3cc9-124b-417b-93f0-3f54778232c1"><div style="font-size:1.5em"><span class="icon">⚠️</span></div><div style="width:100%">Note that you will have to execute the <mark class="highlight-purple"><code>podman unshare </code></mark>commaned first.<ul id="1a06699c-acec-45ad-8473-644c0ed9fce5" class="bulleted-list"><li style="list-style-type:disc">The reason is you need to enter a user-namespace and sperate mount namespace.</li></ul><ul id="a337fd74-7bb3-46f5-8779-1dda7f20c155" class="bulleted-list"><li style="list-style-type:disc">the <mark class="highlight-purple"><code>podman unshare </code></mark>command uses the same kernel features as (nsenter &amp; unshare) commands. It simplifies the process of creating and configuring namespaces and inserting process into the namespace.</li></ul></div></figure><pre id="3e56d82f-6c6b-45a3-902e-9bb5d9584941" class="code"><code>$ podman unshare
$ mnt=$(podman image mount docker.io/library/httpd)
$ ls $mnt</code></pre></li></ul><ul id="bae160d6-5f5b-4603-a962-95113eafb14e" class="bulleted-list"><li style="list-style-type:disc">Now you can start examining your image. use the command <mark class="highlight-gray"><code>podman image</code></mark><mark class="highlight-purple"><code> unmount docker.io/library/httpd</code></mark><mark class="highlight-purple"> </mark>to unmount the image and exist the unshare session.<mark class="highlight-purple"> </mark></li></ul><p id="580429a9-092e-49b1-b326-612ad689ba8e" class="">
</p></details></li></ul><ul id="144346ea-0da4-42f0-b4fe-4921fc11184b" class="toggle"><li><details open=""><summary>Building <mark class="highlight-purple">Images</mark></summary><ul id="21b8833f-9b35-45a0-aef8-0b667d961027" class="bulleted-list"><li style="list-style-type:disc">Below you find most of instructions to be found in any <strong><mark class="highlight-purple">Containerfile.</mark></strong><table id="b06f77fb-2afe-47e9-a171-074e18ed2fb9" class="simple-table"><tbody><tr id="6385e790-8333-413c-95ee-3d1a8a05f81a"><td id="tJ]b" class="" style="width:128px"><mark class="highlight-purple"><strong>Inst</strong></mark><strong>ruction</strong></td><td id="nRhd" class="" style="width:665px"><mark class="highlight-purple"><strong>Desc</strong></mark><strong>ription</strong></td></tr><tr id="0bac74d4-82bf-441c-95df-70537ace9765"><td id="tJ]b" class="" style="width:128px">FROM</td><td id="nRhd" class="" style="width:665px">Specifies the base image from which the new image will be built.</td></tr><tr id="a6363e78-8d2d-4d1f-a5a4-e0175f1175ba"><td id="tJ]b" class="" style="width:128px">MAINTAINER</td><td id="nRhd" class="" style="width:665px">Specifies the name and email address of the person or team responsible for the image.</td></tr><tr id="120e58cc-bd31-4b16-9897-80594ea18792"><td id="tJ]b" class="" style="width:128px">LABEL</td><td id="nRhd" class="" style="width:665px">Specifies metadata about the image.</td></tr><tr id="4a8158ba-a171-4f4d-a7a1-ce4b0f10ad0e"><td id="tJ]b" class="" style="width:128px">EXPOSE</td><td id="nRhd" class="" style="width:665px">Specifies the ports that the container will listen on.</td></tr><tr id="affe01cb-2fee-4ef3-94af-7985962e4d7d"><td id="tJ]b" class="" style="width:128px">ADD</td><td id="nRhd" class="" style="width:665px">Copies a file or directory from the host machine or from a URL to the container.</td></tr><tr id="aee89d51-53b3-49e2-b527-5c0a6b79a59e"><td id="tJ]b" class="" style="width:128px">COPY</td><td id="nRhd" class="" style="width:665px">Copies a file or directory from the build context to the container.</td></tr><tr id="bff2c216-9fec-4812-96bb-78452f6f190a"><td id="tJ]b" class="" style="width:128px">RUN</td><td id="nRhd" class="" style="width:665px">Runs a command in the container. <mark class="highlight-gray">*Podman actually runs a container on the image.*</mark></td></tr><tr id="37ce27eb-56b3-464b-9395-4b4217f70244"><td id="tJ]b" class="" style="width:128px">CMD</td><td id="nRhd" class="" style="width:665px">Specifies the command that will be run when the container starts.</td></tr><tr id="63340b61-10aa-4d2e-8662-662c6542ec27"><td id="tJ]b" class="" style="width:128px">ENTRYPOINT</td><td id="nRhd" class="" style="width:665px">Specifies the command that will be run when the container starts, and cannot be overridden by the user.</td></tr><tr id="ba338961-47c5-4efa-abfc-ac1310dd537c"><td id="tJ]b" class="" style="width:128px">WORKDIR</td><td id="nRhd" class="" style="width:665px">Sets the working directory for subsequent instructions.</td></tr><tr id="a3e4ef34-f53e-45b5-82e4-c36230175b2e"><td id="tJ]b" class="" style="width:128px">USER</td><td id="nRhd" class="" style="width:665px">Sets the user and group that will be used to run subsequent instructions.</td></tr><tr id="b6355ed9-6f11-4ff8-a58d-bce21a2dd094"><td id="tJ]b" class="" style="width:128px">VOLUME</td><td id="nRhd" class="" style="width:665px">Creates a volume that can be used to store data that persists between container restarts.</td></tr><tr id="d775f963-1245-4b35-87dc-98875cc11e88"><td id="tJ]b" class="" style="width:128px">ARG</td><td id="nRhd" class="" style="width:665px">Defines an argument that can be used to customize the build process.</td></tr><tr id="62c37680-dc9d-4d57-97cc-f5d6ecb337bd"><td id="tJ]b" class="" style="width:128px">ONBUILD</td><td id="nRhd" class="" style="width:665px">Defines a command that will be run when the image is used as a base image for another image.</td></tr><tr id="f7a7fd07-71e7-4731-99d3-d3ae076dc75c"><td id="tJ]b" class="" style="width:128px">HEALTHCHECK</td><td id="nRhd" class="" style="width:665px">Runs a command to check the health of the container.</td></tr><tr id="a1aad1fe-d429-405e-b85f-2c43ee02d3bc"><td id="tJ]b" class="" style="width:128px">SHELL</td><td id="nRhd" class="" style="width:665px">Defines the shell that will be used to run commands in the container.</td></tr><tr id="8db64cd6-f817-448b-a7e0-22e9b2409d92"><td id="tJ]b" class="" style="width:128px">STOPSIGNAL</td><td id="nRhd" class="" style="width:665px">Specifies the signal that will be used to stop the container.</td></tr><tr id="a322ca4c-ef19-4f0c-9eb7-89bdcb8cd9d2"><td id="tJ]b" class="" style="width:128px">ENV</td><td id="nRhd" class="" style="width:665px">Sets an environment variable in the container.</td></tr></tbody></table><p id="4acc2166-91ab-4b9a-8d26-4eca8e585d62" class="">
</p></li></ul><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="0d2916f0-84ff-463a-a454-8d7595fbefa9"><div style="font-size:1.5em"><span class="icon">🆚</span></div><div style="width:100%"><mark class="highlight-purple">CMD </mark>vs <mark class="highlight-purple">ENTRYPOINT
⇒ </mark>the <mark class="highlight-gray"><code>CMD</code></mark> instruction used to specify the default command that will be run when the container starts (can be <strong>overwritten </strong>by the user), and the <mark class="highlight-gray"><code>ENTRYPOINT</code></mark><mark class="highlight-gray"> </mark>instruction used to specify the command that will always be run when the container starts (can’t be <strong>overwritten</strong>).</div></figure><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="902a8698-d524-47e9-b21a-503902cf3ad9"><div style="font-size:1.5em"><span class="icon">🆚</span></div><div style="width:100%"><mark class="highlight-purple">ADD</mark> vs <mark class="highlight-purple">COPY</mark><table id="ad3f9344-a5ef-4fc5-b91d-ec310d2e86e8" class="simple-table"><tbody><tr id="71f53e7a-18cc-4e68-8492-74a5a8d63cb7"><td id="zl;K" class=""><strong>Feature</strong></td><td id="A;OO" class=""><strong>ADD</strong></td><td id="[rj\" class=""><strong>COPY</strong></td></tr><tr id="1c0f9e0a-c2e3-4cba-90a0-61881d880d5d"><td id="zl;K" class="">Copies files from</td><td id="A;OO" class="">The host machine or a URL</td><td id="[rj\" class="">The build context</td></tr><tr id="68a33bfd-48cd-4124-8510-0cce1f14c3d5"><td id="zl;K" class="">More complex</td><td id="A;OO" class="">Yes</td><td id="[rj\" class="">No</td></tr><tr id="e895e13f-59aa-4114-8957-fc3a93646021"><td id="zl;K" class="">More powerful</td><td id="A;OO" class="">Yes</td><td id="[rj\" class="">No</td></tr><tr id="d583d0ac-6959-4ba6-b85b-305bb6ae0a05"><td id="zl;K" class="">Best practice</td><td id="A;OO" class="">Use <mark class="highlight-purple"><code>COPY</code></mark><mark class="highlight-purple"> </mark>unless you need the extra features of <mark class="highlight-purple"><code>ADD</code></mark></td><td id="[rj\" class=""></td></tr></tbody></table></div></figure><ul id="303903c5-be79-4ef8-8237-4975580d5364" class="bulleted-list"><li style="list-style-type:disc">Example of Containerfile.</li></ul><pre id="33953209-813c-4324-a31e-67c72adf07eb" class="code"><code>#pulls the image from chxmxii repo
FROM quay.io/chxmxii/image 
#copies start.sh from host to container
ADD start.sh /usr/bin/start.sh
#copies index.html from the build context to the container
COPY index.html /var/www/html/index.html
#runs the yum command to update
RUN yum -y update &amp;&amp;\
		yum clean all
#creats a mount point.
VOLUME /var/lib/mydata
#default command to run
CMD /usr/bin/start.sh
#hard setting command
ENTRYPOINT [&quot;bin&quot;,&quot;sh&quot;,&quot;-C&quot;]
#var env
ENV foo=&quot;bar&quot;
#announce the port that the container will be exposing. (doesn&#x27;t map or open any port)
EXPOSE 8080
#metadata
LABEL Description=&quot;Hello world&quot;
#sets the author field
MAINTAINER chxmxii
#default stop signal
STOPSIGNAL SIGTERM
#sets the user name or UID
USER apache
#adds a trigger to be executed at a later time, when the image is used as the base for another build.
ONBUILD
#sets the working dirctory for run,cmd,entrypoint and copy directives. the directory will be created if it doesn&#x27;t exist.
WORKDIR /var/www/html</code></pre><ul id="c2ab2582-fa40-406e-87a0-55f43d48b5f9" class="bulleted-list"><li style="list-style-type:disc">Now, you can build the image using the <mark class="highlight-gray"><code>podman build </code></mark><code><mark class="highlight-purple">-t quay.io/chxmxii/image_2 .</mark></code><mark class="highlight-purple"> </mark>command. It commits the image and tags (-t) it with quay.io/chxmxii/image_2, it is now ready to be pushed to the container registry.<mark class="highlight-purple"> </mark></li></ul></details></li></ul><details open=""><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0">Summary</summary><div class="indented"><figure id="bb0ae876-552a-445a-a25a-997d864cf88e" class="image"><a href="CHAPTER%202%20-%20Podman%20CLI%20d32e54469baa4d74bdcc61e60fab218c/Untitled%204.png"><img style="width:751px" src="CHAPTER%202%20-%20Podman%20CLI%20d32e54469baa4d74bdcc61e60fab218c/Untitled%204.png"/></a></figure><figure id="0c95d735-bf17-4955-be1f-4d9870bc5256" class="image"><a href="CHAPTER%202%20-%20Podman%20CLI%20d32e54469baa4d74bdcc61e60fab218c/Untitled%205.png"><img style="width:753px" src="CHAPTER%202%20-%20Podman%20CLI%20d32e54469baa4d74bdcc61e60fab218c/Untitled%205.png"/></a></figure></div></details></div></details></div></article></body><a href="./CHAPTER 1 - Introducing Podman 7990d8ff3faf4954bcca45f5f1b5ccb2.html"><img src="./leftrow.png" style="height: 20px;margin-left: 40%;margin-top: 40;"></a><a href="./CHAPTER 3 - Podman Volumes b64d4ec35d414451b495ed33ad758db2.html"><img src="./rightrow.png" style="height: 20px;margin-left: 60%;margin-top: -20;"></a></html>