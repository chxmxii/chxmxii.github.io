<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>CHAPTER 5 - Configuration files</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-interactiveBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="a0537819-d8ce-4f7f-9d33-d0a56c7031c2" class="page sans"><header><img class="page-cover-image" src="CHAPTER%203%20-%20Podman%20Volumes%20b64d4ec35d414451b495ed33ad758db2/cover.png" style="object-position:center 48.11%"/><div class="page-header-icon page-header-icon-with-cover"><img class="icon" src="CHAPTER%201%20-%20Introducing%20Podman%207990d8ff3faf4954bcca45f5f1b5ccb2/favicon.png"/></div><h1 class="page-title">CHAPTER 5 - Configuration files</h1><p class="page-description"></p></header><div class="page-body"><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="95315adf-e9ac-408a-bae5-c45825de8445"><div style="font-size:1.5em"><img class="icon" src="https://www.notion.so/icons/report_lightgray.svg"/></div><div style="width:100%">Podman allows its users to have ultimate control over the defaults configurations, so the container engine configuration files provide a mechanism for customizing the way podman run.</div></figure><details open=""><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0">Configuration files for <mark class="highlight-purple">storage</mark></summary><div class="indented"><ul id="a488a96d-ff4d-42c4-a529-19427ca5c39f" class="bulleted-list"><li style="list-style-type:disc">The storage library provides methods for storing filesystem layers, container images, and containers.</li></ul><ul id="b7d046c9-fc00-4af5-a0c9-dc890db40eb4" class="bulleted-list"><li style="list-style-type:disc">The configuration of this file is done using the storage.conf file.</li></ul><ul id="60ae2683-a77f-4d9d-a1fe-76b259940524" class="bulleted-list"><li style="list-style-type:disc">run the command <mark class="highlight-purple"><code>podman info --format &quot;{{ .Store.ConfigFile }}&quot;</code></mark></li></ul><ul id="f0fd2021-4b2c-4833-986c-ae476ef4a8b3" class="bulleted-list"><li style="list-style-type:disc">The most common reasons for changes is relocating the container’s storage.</li></ul></div></details><details open=""><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0">Configuration files for <mark class="highlight-purple">location</mark></summary><div class="indented"><ul id="35b9203b-163f-42bf-b223-d98597bf9986" class="bulleted-list"><li style="list-style-type:disc">storage.conf file calls the storage location the<strong><mark class="highlight-purple"> graphRoot.</mark></strong></li></ul><ul id="f6a2b9a7-e6c7-4aca-9d17-13cf5ffb7261" class="bulleted-list"><li style="list-style-type:disc">the location of the graphRoot can be overridden in /etc/containers/storage.conf for rootful containers.</li></ul><ul id="5ea38d5f-bd3e-4a55-9e52-d6cbd4cdc3d8" class="bulleted-list"><li style="list-style-type:disc">to change the location of the graphRoot edit the following line.<ul id="1719f8d4-72e7-421f-8c18-3dfbde1f1b8b" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-gray"><code>graphroot = &quot;/var/lib/containers/storage”</code></mark></li></ul></li></ul><ul id="a6de67a8-cd81-4701-8a04-2b65db49759f" class="bulleted-list"><li style="list-style-type:disc">for rootless users edit the following line.<ul id="63210f0c-da1d-4d6c-aa91-d77c2529688f" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-gray"><code>rootless_storage_path = &quot;$HOME/.local/share/containers/storage”</code></mark></li></ul></li></ul><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="77448406-a45a-42f5-8adc-628515ee0127"><div style="font-size:1.5em"><span class="icon">❗</span></div><div style="width:100%">Note that you should inform SELinux (if it is enabled) that you changed the default location of storage so it will relabel the new location as if it was in the old location.
+ <mark class="highlight-gray"><code>semanage fcontext</code></mark><mark class="highlight-purple"><code> -a -e </code></mark><mark class="highlight-gray"><code>/var/lib/containers/storage /</code></mark><mark class="highlight-purple"><code>var/mystorage </code></mark>
+ <mark class="highlight-gray"><code>restorecon</code></mark><code><mark class="highlight-purple"> -R -v</mark></code><mark class="highlight-gray"><code> /var/mystorage</code></mark><mark class="highlight-gray">
ROOTLESS MODE:
+ </mark><mark class="highlight-gray"><code>sudo semanage fcontext</code></mark><code><mark class="highlight-purple"> -a -e $HOME/.local/share/containers/storage /var/tmp/$UID/var/mystorage</mark></code><mark class="highlight-purple">
</mark>+ <mark class="highlight-gray"><code>sudo restorecon</code></mark><code><mark class="highlight-purple"> -R -v</mark></code><mark class="highlight-gray"><code> /var/tmp/$UID/var/mystorage</code></mark></div></figure></div></details><details open=""><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0">Configuration files for <mark class="highlight-purple">drivers</mark></summary><div class="indented"><figure id="d1a98205-6d0c-427d-b3fa-e7487d8694bd" class="image"><a href="CHAPTER%205%20-%20Configuration%20files%20a0537819d8ce4f7f9d33d0a56c7031c2/Untitled.png"><img style="width:737px" src="CHAPTER%205%20-%20Configuration%20files%20a0537819d8ce4f7f9d33d0a56c7031c2/Untitled.png"/></a></figure><figure id="7ce78e8f-008c-40db-90ce-8d5e06ef9efd" class="image"><a href="CHAPTER%205%20-%20Configuration%20files%20a0537819d8ce4f7f9d33d0a56c7031c2/Untitled%201.png"><img style="width:734px" src="CHAPTER%205%20-%20Configuration%20files%20a0537819d8ce4f7f9d33d0a56c7031c2/Untitled%201.png"/></a></figure></div></details><details open=""><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0">Configuration files for <mark class="highlight-purple">registries</mark></summary><div class="indented"><ul id="37a30434-3d72-4ce2-ae51-ab21e76d90a4" class="bulleted-list"><li style="list-style-type:disc">registries.conf configuration file is a system-wide configuration file for container image registries. Podman uses <code><mark class="highlight-purple">$HOME/.config/containers/registries.conf </mark></code>if exists, otherwise, it uses <mark class="highlight-purple"><code>/etc/containers/registries.conf</code></mark></li></ul><figure id="7ccc7d59-511e-4a66-a4b9-7b1dc911b58b" class="image" style="text-align:center"><a href="CHAPTER%205%20-%20Configuration%20files%20a0537819d8ce4f7f9d33d0a56c7031c2/Untitled%202.png"><img style="width:627px" src="CHAPTER%205%20-%20Configuration%20files%20a0537819d8ce4f7f9d33d0a56c7031c2/Untitled%202.png"/></a></figure><ul id="dfdadee4-b521-4780-9d6c-dc12bb6b21f1" class="bulleted-list"><li style="list-style-type:disc"><strong>Block pulling from container registries:</strong><ul id="f6e4c2b6-d583-455f-80b7-f35f4bd5fb97" class="bulleted-list"><li style="list-style-type:circle">you can configure the registries.conf to block pulling from any registry you want.  <pre id="6a221c8e-97b9-4c42-a7a9-2d38ea23a1a2" class="code"><code>[[registry]]
Location = &quot;docker.io&quot;
blocked = true	</code></pre></li></ul><ul id="634d4eb2-c3b2-4973-84bb-3b3b05706642" class="bulleted-list"><li style="list-style-type:circle">[[registry]] is a table entry that can specify how to handle individual container registries.<figure id="d8977295-93cf-4655-a321-1874d5e4fdb0" class="image"><a href="CHAPTER%205%20-%20Configuration%20files%20a0537819d8ce4f7f9d33d0a56c7031c2/Untitled%203.png"><img style="width:638px" src="CHAPTER%205%20-%20Configuration%20files%20a0537819d8ce4f7f9d33d0a56c7031c2/Untitled%203.png"/></a></figure></li></ul></li></ul></div></details><details open=""><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0">Configuration files for <mark class="highlight-purple">engines</mark></summary><div class="indented"><figure id="fc3c67a0-876d-437e-a6f6-648915b1dd14" class="image"><a href="CHAPTER%205%20-%20Configuration%20files%20a0537819d8ce4f7f9d33d0a56c7031c2/Untitled%204.png"><img style="width:655px" src="CHAPTER%205%20-%20Configuration%20files%20a0537819d8ce4f7f9d33d0a56c7031c2/Untitled%204.png"/></a></figure><pre id="16f702bd-2a73-44ab-b46a-db7b701e589f" class="code"><code>$ mkdir -p ~/.config/containers/containers.conf.d/ &amp;&amp; cd $_ &amp;&amp; cat &lt;&lt; _E &gt; env.conf 
&gt; [containers]
&gt; env=[ &quot;foo=bar&quot; ]
&gt; _E
$ podman run --rm ubi8 printenv
#you will notice the foo=bar within the env vars.
-------------------------------
$ podman run quay.io/podman/stable cat /etc/containers/containers.conf
[containers]
netns=&quot;host&quot;
userns=&quot;host&quot;
ipcns=&quot;host&quot;
utsns=&quot;host&quot;
cgroupns=&quot;host&quot;
cgroups=&quot;disabled&quot;
log_driver = &quot;k8s-file&quot;
[engine]
cgroup_manager = &quot;cgroupfs&quot;
events_logger=&quot;file&quot;
runtime=&quot;crun&quot;</code></pre></div></details><details open=""><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0"><strong><mark class="highlight-purple">System </mark></strong><strong>configuration files</strong></summary><div class="indented"><ul id="e7643f9b-ae9f-4d74-8c73-76c103a4a4d0" class="bulleted-list"><li style="list-style-type:disc">/etc/subuid and /etc/subgid specifies the UID ranges for your containers. Podman reads these files and then launches /usr/bin/newuidmap and /usr/bin/newgidmap<figure id="35b959bb-2084-423d-8461-87a142df3611" class="image"><a href="CHAPTER%205%20-%20Configuration%20files%20a0537819d8ce4f7f9d33d0a56c7031c2/Untitled%205.png"><img style="width:1125px" src="CHAPTER%205%20-%20Configuration%20files%20a0537819d8ce4f7f9d33d0a56c7031c2/Untitled%205.png"/></a></figure></li></ul><ul id="51c32f9e-dd7c-4abd-92a6-e36337675529" class="bulleted-list"><li style="list-style-type:disc">use the command <mark class="highlight-purple"><code>podman system migrate </code></mark>to stop the <mark class="highlight-purple"><code>podman pause </code></mark>process and re-creates the new user-namespace and take then effects.</li></ul></div></details><p id="cda0dfdb-ec17-4bfd-9739-782dbfc00621" class="">
</p><details open=""><summary style="font-weight:600;font-size:1.25em;line-height:1.3;margin:0"><mark class="highlight-purple">Sum</mark>mary</summary><div class="indented"><ul id="54a014cd-052d-4068-82a5-8b193dfaf4b7" class="bulleted-list"><li style="list-style-type:disc">Podman has multiple configuration files based on the libraries it uses.</li></ul><ul id="5f94fa3f-785b-47c2-ac7f-36ff3480369c" class="bulleted-list"><li style="list-style-type:disc">Configuration files are share between rootful and rootless env.</li></ul><ul id="3d92bfae-8ee8-4936-941e-b1d42d793c6f" class="bulleted-list"><li style="list-style-type:disc">The<strong><mark class="highlight-purple"> storage.conf</mark></strong> file is used to configure containers/storage, including the storage driver as well as the location where cotainer and their images are to be stored.</li></ul><ul id="624d1953-a149-4609-a222-28af94d9f4a2" class="bulleted-list"><li style="list-style-type:disc">The<strong><mark class="highlight-purple"> registries.conf</mark></strong> and <strong><mark class="highlight-purple">policy.json</mark></strong> files are used to configure the container/image library. Primarily affecting access to container registries, shortnames, and mirror sights.</li></ul><ul id="96041860-46e5-48e1-874e-37d1ddfa07b2" class="bulleted-list"><li style="list-style-type:disc">The<strong><mark class="highlight-purple"> containers.conf </mark></strong>file is used to configure all of the other defaults used within Podman.</li></ul><ul id="7fab2b70-a2d1-49a0-9659-51afc5389b07" class="bulleted-list"><li style="list-style-type:disc">System configuration files lie<strong><mark class="highlight-purple"> /etc/subuid </mark></strong>and <strong><mark class="highlight-purple">/etc/subgid</mark></strong> are used to configure the user-namespace required for running rootless containers.</li></ul></div></details></div></article></body><a href="./CHAPTER 4 - Working with Pods faf8f2b77c79491f94bd2eff1cb95ba1.html"><img src="./leftrow.png" style="height: 20px;margin-left: 40%;margin-top: 40;"></a><a href="./CHAPTER 6 - Integration with systemd 7e88ecadce6648d38bed4fda8bd6bc9b.html"><img src="./rightrow.png" style="height: 20px;margin-left: 60%;margin-top: -20;"></a></html>