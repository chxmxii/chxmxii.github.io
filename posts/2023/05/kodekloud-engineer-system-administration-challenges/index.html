<!doctype html><html lang=en><link rel=icon href=https://chxmxii.github.io/portfolio/mor.jpg type=image/icontype><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="map[name:chxmxii_]"><meta name=description content="Linux TimeZones Setting During the daily standup, it was pointed out that the timezone across Nautilus Application Servers in Stratos Datacenter doesn&amp;rsquo;t match with that of the local datacenter&amp;rsquo;s timezone, which is America/Blanc-Sablon. solution : #ssh to app server 1 account and switch to root sshpass -p Ir0nM@n ssh -o StrictHostKeyChecking=no tony@stapp01 sudo su - # change the timezone to America/Blanc-Sablon timedatectl set-timezone America/Blanc-Sablon #Verify timedatectl Linux User Files There was some users data copied on Nautilus App Server 1 at /home/usersdata location by the Nautilus production support team in Stratos DC."><meta name=keywords content=",DevOps,Sysadmin"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://chxmxii.github.io/portfolio/posts/2023/05/kodekloud-engineer-system-administration-challenges/><title>KodeKloud Engineer System Administration Challenges :: Chamsii Mouhib</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=https://chxmxii.github.io/portfolio/main.cda4d8a80eb9c0ad59d520a83b27f1bf13dba33ab38a74541b46a8c246eeebca.css><link rel=apple-touch-icon sizes=180x180 href=https://chxmxii.github.io/portfolio/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://chxmxii.github.io/portfolio/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://chxmxii.github.io/portfolio/favicon-16x16.png><link rel=manifest href=https://chxmxii.github.io/portfolio/site.webmanifest><link rel=mask-icon href=https://chxmxii.github.io/portfolio/safari-pinned-tab.svg color><link rel="shortcut icon" href=https://chxmxii.github.io/portfolio/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="KodeKloud Engineer System Administration Challenges"><meta itemprop=description content="Linux TimeZones Setting During the daily standup, it was pointed out that the timezone across Nautilus Application Servers in Stratos Datacenter doesn&rsquo;t match with that of the local datacenter&rsquo;s timezone, which is America/Blanc-Sablon. solution : #ssh to app server 1 account and switch to root sshpass -p Ir0nM@n ssh -o StrictHostKeyChecking=no tony@stapp01 sudo su - # change the timezone to America/Blanc-Sablon timedatectl set-timezone America/Blanc-Sablon #Verify timedatectl Linux User Files There was some users data copied on Nautilus App Server 1 at /home/usersdata location by the Nautilus production support team in Stratos DC."><meta itemprop=datePublished content="2023-05-14T00:00:00+00:00"><meta itemprop=dateModified content="2023-05-14T00:00:00+00:00"><meta itemprop=wordCount content="1551"><meta itemprop=image content="https://chxmxii.github.io/portfolio/"><meta itemprop=keywords content="DevOps,Sysadmin,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://chxmxii.github.io/portfolio/"><meta name=twitter:title content="KodeKloud Engineer System Administration Challenges"><meta name=twitter:description content="Linux TimeZones Setting During the daily standup, it was pointed out that the timezone across Nautilus Application Servers in Stratos Datacenter doesn&rsquo;t match with that of the local datacenter&rsquo;s timezone, which is America/Blanc-Sablon. solution : #ssh to app server 1 account and switch to root sshpass -p Ir0nM@n ssh -o StrictHostKeyChecking=no tony@stapp01 sudo su - # change the timezone to America/Blanc-Sablon timedatectl set-timezone America/Blanc-Sablon #Verify timedatectl Linux User Files There was some users data copied on Nautilus App Server 1 at /home/usersdata location by the Nautilus production support team in Stratos DC."><meta property="og:title" content="KodeKloud Engineer System Administration Challenges"><meta property="og:description" content="Linux TimeZones Setting During the daily standup, it was pointed out that the timezone across Nautilus Application Servers in Stratos Datacenter doesn&rsquo;t match with that of the local datacenter&rsquo;s timezone, which is America/Blanc-Sablon. solution : #ssh to app server 1 account and switch to root sshpass -p Ir0nM@n ssh -o StrictHostKeyChecking=no tony@stapp01 sudo su - # change the timezone to America/Blanc-Sablon timedatectl set-timezone America/Blanc-Sablon #Verify timedatectl Linux User Files There was some users data copied on Nautilus App Server 1 at /home/usersdata location by the Nautilus production support team in Stratos DC."><meta property="og:type" content="article"><meta property="og:url" content="https://chxmxii.github.io/portfolio/posts/2023/05/kodekloud-engineer-system-administration-challenges/"><meta property="og:image" content="https://chxmxii.github.io/portfolio/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-14T00:00:00+00:00"><meta property="article:modified_time" content="2023-05-14T00:00:00+00:00"><meta property="og:see_also" content="https://chxmxii.github.io/portfolio/posts/2022/11/certifications-exam-notes/"><meta property="og:see_also" content="https://chxmxii.github.io/portfolio/posts/2022/10/understanding-ci/cd/"><meta property="og:see_also" content="https://chxmxii.github.io/portfolio/projects/project01.txt/"><meta property="og:see_also" content="https://chxmxii.github.io/portfolio/posts/2022/09/deploying-nginx-web-server-with-kubernetes/"><meta property="og:see_also" content="https://chxmxii.github.io/portfolio/posts/2022/08/bypassing-common-jinja2-filters/"><meta property="article:published_time" content="2023-05-14 00:00:00 +0000 UTC"></head><body><div class=container><header class=header><span class=header__inner><a href=https://chxmxii.github.io/portfolio/ style=text-decoration:none><div class=logo><span class=logo__mark></span><span class=logo__text>C:\Users\chxmxii\</span>
<span class=logo__text style=color:#ff3c36>post03.txt</span>
<span class=logo__cursor style=background-color:#ff3c36></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://chxmxii.github.io/portfolio/about.txt/ style=text-decoration:none class=name>About</a></li><li><a href=https://chxmxii.github.io/portfolio/posts/ style=text-decoration:none class=name>Posts</a></li><li><a href=https://chxmxii.github.io/portfolio/projects/ style=text-decoration:none class=name>Projects</a></li><li><a href=https://chxmxii.github.io/portfolio/cv.pdf style=text-decoration:none class=name>Resume</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>8 minutes</p></div><article><h1 class=post-title><a href=https://chxmxii.github.io/portfolio/posts/2023/05/kodekloud-engineer-system-administration-challenges/>KodeKloud Engineer System Administration Challenges</a></h1><div class=post-content><hr><h2 id=linux-timezones-setting>Linux TimeZones Setting</h2><ul><li>During the daily standup, it was pointed out that the timezone across Nautilus Application Servers in Stratos Datacenter doesn&rsquo;t match with that of the local datacenter&rsquo;s timezone, which is America/Blanc-Sablon.</li></ul><h6 id=solution->solution :</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#ssh to app server 1 account and switch to root</span>
</span></span><span style=display:flex><span>sshpass -p Ir0nM@n ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no tony@stapp01
</span></span><span style=display:flex><span>sudo su -
</span></span><span style=display:flex><span><span style=color:#75715e># change the timezone to America/Blanc-Sablon</span>
</span></span><span style=display:flex><span>timedatectl set-timezone America/Blanc-Sablon
</span></span><span style=display:flex><span><span style=color:#75715e>#Verify</span>
</span></span><span style=display:flex><span>timedatectl
</span></span></code></pre></div></li></ul><hr><h2 id=linux-user-files>Linux User Files</h2><ul><li>There was some users data copied on Nautilus App Server 1 at /home/usersdata location by the Nautilus production support team in Stratos DC. Later they found that they mistakenly mixed up different user data there. Now they want to filter out some user data and copy it to another location. Find the details below:</li><li>On App Server 1 find all files (not directories) owned by user javed inside /home/usersdata directory and copy them all while keeping the folder structure (preserve the directories path) to /news directory.</li></ul><h6 id=solution--1>Solution :</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#ssh to user tony on App server 1 </span>
</span></span><span style=display:flex><span>sshpass -p Ir0nM@n ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no tony@stapp01
</span></span><span style=display:flex><span><span style=color:#75715e>#find all the files copy the to /news directory while keeping the folder structure.</span>
</span></span><span style=display:flex><span>find /home/usersdata/ -type f -user javed -exec cp --parents <span style=color:#f92672>{}</span> /news/ <span style=color:#ae81ff>\;</span> 2&gt;/dev/null
</span></span><span style=display:flex><span><span style=color:#75715e>#verify</span>
</span></span><span style=display:flex><span>yum install tree -y
</span></span><span style=display:flex><span>tree /news
</span></span></code></pre></div></li></ul><hr><h2 id=linux-user-without-home>Linux User Without Home</h2><ul><li>The system admins team of xFusionCorp Industries has set up a new tool on all app servers, as they have a requirement to create a service user account that will be used by that tool. They are finished with all apps except for App Server 1 in Stratos Datacenter.</li><li>Create a user named ravi in App Server 1 without a home directory.</li></ul><h6 id=solution>Solution:</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#Login to tony account in App server 1 via SSH</span>
</span></span><span style=display:flex><span>sshpass -p Ir0nM@n ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no tony@stapp01
</span></span><span style=display:flex><span><span style=color:#75715e>#man useradd and look for the option to create a user without a home dir</span>
</span></span><span style=display:flex><span>sudo useradd -M ravi
</span></span><span style=display:flex><span><span style=color:#75715e>#verify</span>
</span></span><span style=display:flex><span>getent passwd
</span></span></code></pre></div></li></ul><hr><h2 id=mariadb-troubleshooting>MariaDB Troubleshooting</h2><ul><li>There is a critical issue going on with the Nautilus application in Stratos DC. The production support team identified that the application is unable to connect to the database. After digging into the issue, the team found that mariadb service is down on the database server.</li><li>Look into the issue and fix the same.</li></ul><h6 id=soltuion>Soltuion:</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#Connect to the db instance</span>
</span></span><span style=display:flex><span>sshpass -p Sp<span style=color:#ae81ff>\!</span>dy ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no peter@stdb01
</span></span><span style=display:flex><span><span style=color:#75715e>#Verify the status of mariadb service</span>
</span></span><span style=display:flex><span>systemctl status mariadb
</span></span><span style=display:flex><span><span style=color:#75715e>#go through the logs and pay some attention!</span>
</span></span><span style=display:flex><span>journalctl -xe
</span></span><span style=display:flex><span>cat /var/log/mariadb/mariadb.log
</span></span><span style=display:flex><span><span style=color:#75715e>#as you can see, the mariadb service coudln\&#39;t start due to &#39;permision denied&#39; problem! </span>
</span></span><span style=display:flex><span><span style=color:#75715e>#lets check the ownerships of both folders /var/lib/mysql and /var/run/mariadb</span>
</span></span><span style=display:flex><span>ll /var/lib/mysql
</span></span><span style=display:flex><span>ll /var/run/mariadb
</span></span><span style=display:flex><span><span style=color:#75715e>#we notice that the owner of mariadb is sat to root and this was the root problem</span>
</span></span><span style=display:flex><span>cd /var/run/
</span></span><span style=display:flex><span>chown -R mysql:mysql mariadb/
</span></span><span style=display:flex><span><span style=color:#75715e>#start and enbale the service</span>
</span></span><span style=display:flex><span>systemctl start mariadb
</span></span><span style=display:flex><span>systemctl enable --now mariadb
</span></span></code></pre></div></li></ul><hr><h2 id=linux-ssh-authentication>Linux SSH Authentication</h2><ul><li>The system admins team of xFusionCorp Industries has set up some scripts on jump host that run on regular intervals and perform operations on all app servers in Stratos Datacenter. To make these scripts work properly we need to make sure the thor user on jump host has password-less SSH access to all app servers through their respective sudo users (i.e tony for app server 1). Based on the requirements, perform the following:</li><li>Set up a password-less authentication from user thor on jump host to all app servers through their respective sudo users.</li></ul><h6 id=solution-1>Solution:</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#generate ssh key</span>
</span></span><span style=display:flex><span>ssh-keygen -t rsa 
</span></span><span style=display:flex><span><span style=color:#75715e>#copy the generated key</span>
</span></span><span style=display:flex><span>ssh-copy-id tony@stapp01
</span></span><span style=display:flex><span>ssh-copy-id steve@stapp02
</span></span><span style=display:flex><span>ssh-copy-id banner@stapp03
</span></span><span style=display:flex><span><span style=color:#75715e>#verify</span>
</span></span><span style=display:flex><span>ssh tony@stapp01
</span></span><span style=display:flex><span>ssh steve@stapp02
</span></span><span style=display:flex><span>ssh banner@stapp03
</span></span></code></pre></div></li></ul><hr><h2 id=linux-collaborative-directories>Linux Collaborative Directories</h2><ul><li>The Nautilus team doesn&rsquo;t want its data to be accessed by any of the other groups/teams due to security reasons and want their data to be strictly accessed by the devops group of the team.</li><li>Setup a collaborative directory /devops/data on Nautilus App 3 server in Stratos Datacenter.</li><li>The directory should be group owned by the group devops and the group should own the files inside the directory. The directory should be read/write/execute to the group owners, and others should not have any access.</li></ul><h6 id=solution-2>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell><span style=display:flex><span><span style=color:#75715e>#ssh to app server3</span>
</span></span><span style=display:flex><span>sshpass -p BigGr33n ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no banner@stapp03
</span></span><span style=display:flex><span><span style=color:#75715e>#switch to root</span>
</span></span><span style=display:flex><span>sudo su -
</span></span><span style=display:flex><span><span style=color:#75715e>#create dir /devops/data</span>
</span></span><span style=display:flex><span>mkdir -p /devops/data
</span></span><span style=display:flex><span><span style=color:#75715e>#change the group owner</span>
</span></span><span style=display:flex><span>m1 : chgrp -R devops /devops <span style=color:#f92672>&amp;&amp;</span> chgrp -R devops /devops/data <span style=color:#f92672>(</span>-R &gt; <span style=color:#66d9ef>for</span> recursive<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>m2 : chown -R :devops /devops 
</span></span><span style=display:flex><span><span style=color:#75715e>#change the dir perms</span>
</span></span><span style=display:flex><span>chmod -R <span style=color:#ae81ff>2770</span> /devops/ <span style=color:#f92672>&amp;&amp;</span> chmod -R <span style=color:#ae81ff>2770</span> /devops/data
</span></span><span style=display:flex><span><span style=color:#ae81ff>2</span> &gt; SGID
</span></span><span style=display:flex><span><span style=color:#ae81ff>7</span> &gt; rwx
</span></span><span style=display:flex><span><span style=color:#ae81ff>0</span> &gt; ---
</span></span></code></pre></div></li></ul><hr><h2 id=linux-ntp-setup>Linux NTP Setup</h2><ul><li>The system admin team of xFusionCorp Industries has noticed an issue with some servers in Stratos Datacenter where some of the servers are not in sync w.r.t time. Because of this, several application functionalities have been impacted. To fix this issue the team has started using common/standard NTP servers. They are finished with most of the servers except App Server 1. Therefore, perform the following tasks on this server:</li><li>Install and configure NTP server on App Server 1.</li><li>Add NTP server 1.south-america.pool.ntp.org in NTP configuration on App Server 1.</li><li>Please do not try to start/restart/stop ntp service, as we already have a restart for this service scheduled for tonight and we don&rsquo;t want these changes to be applied right now</li></ul><h6 id=solution-3>Solution:</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell><span style=display:flex><span><span style=color:#75715e>#ssh to app server 1</span>
</span></span><span style=display:flex><span>sshpass -p Ir0nM@n ssh -o StrictHostkeyChecking<span style=color:#f92672>=</span>no tony@stapp01
</span></span><span style=display:flex><span><span style=color:#75715e>#switch to root user</span>
</span></span><span style=display:flex><span>sudo su -
</span></span><span style=display:flex><span><span style=color:#75715e>#Install ntp server if not installed</span>
</span></span><span style=display:flex><span>rpm -qa | grep ntp
</span></span><span style=display:flex><span>yum install -y ntp
</span></span><span style=display:flex><span><span style=color:#75715e>#Configure NTP server</span>
</span></span><span style=display:flex><span>vi /etc/ntp.conf 
</span></span><span style=display:flex><span>~ insert this line <span style=color:#f92672>(</span>NTP server 1.south-america.pool.ntp.org<span style=color:#f92672>)</span> <span style=color:#66d9ef>then</span> save and quit
</span></span><span style=display:flex><span><span style=color:#75715e>#Start and enable the ntp daemon</span>
</span></span><span style=display:flex><span>systemctl enable ntpd
</span></span><span style=display:flex><span>systemctl start ntpd
</span></span><span style=display:flex><span>systemctl status ntpd
</span></span><span style=display:flex><span><span style=color:#75715e>#verify configuration</span>
</span></span><span style=display:flex><span>ntpstat
</span></span></code></pre></div></li></ul><hr><h2 id=linux-run-levels>Linux Run Levels</h2><ul><li>New tools have been installed on the app server in Stratos Datacenter. Some of these tools can only be managed from the graphical user interface. Therefore, there are requirements for these app servers.</li><li>On all App servers in Stratos Datacenter change the default runlevel so that they can boot in GUI (graphical user interface) by default. Please do not try to reboot these servers</li></ul><h6 id=solution-4>Solution:</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell><span style=display:flex><span><span style=color:#75715e>#ssh to the app server of the 3 accounts</span>
</span></span><span style=display:flex><span>sshpass -p BigGr33n ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no banner@stapp03
</span></span><span style=display:flex><span><span style=color:#75715e>#switch user to root</span>
</span></span><span style=display:flex><span>sudo su -
</span></span><span style=display:flex><span><span style=color:#75715e>#get the default target</span>
</span></span><span style=display:flex><span>systemctl get-default
</span></span><span style=display:flex><span><span style=color:#75715e>#notice the default target is set to multi-user.target, you can list all the target using the following command</span>
</span></span><span style=display:flex><span>systemctl list-units
</span></span><span style=display:flex><span><span style=color:#75715e>#set the default target to graphical.target</span>
</span></span><span style=display:flex><span>systemctl set-default graphical.target
</span></span><span style=display:flex><span><span style=color:#75715e>#start the new target and verify</span>
</span></span><span style=display:flex><span>systemctl start graphical.target <span style=color:#f92672>&amp;&amp;</span> systemctl status graphical.target
</span></span><span style=display:flex><span>systemctl get-default
</span></span></code></pre></div></li></ul><hr><h2 id=linux-string-substitute>Linux String Substitute</h2><ul><li>The backup server in the Stratos DC contains several template XML files used by the Nautilus application. However, these template XML files must be populated with valid data before they can be used. One of the daily tasks of a system admin working in the xFusionCorp industries is to apply string and file manipulation commands!</li><li>Replace all occurances of the string Sample to Software on the XML file /root/nautilus.xml located in the backup server.</li></ul><h6 id=solution-5>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell><span style=display:flex><span><span style=color:#75715e>#ssh to the backup server</span>
</span></span><span style=display:flex><span>sshpass -p H@wk3y3 ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no clint@stbkp01
</span></span><span style=display:flex><span><span style=color:#75715e>#switch to the root user</span>
</span></span><span style=display:flex><span>sudo su -
</span></span><span style=display:flex><span><span style=color:#75715e>#change the word Sample with SoftWare in the XML file nautilus.xml</span>
</span></span><span style=display:flex><span>cat /root/nautilus.xml
</span></span><span style=display:flex><span><span style=color:#75715e>#Using sed, you can always refer to the manual for help</span>
</span></span><span style=display:flex><span>sed -i <span style=color:#e6db74>&#39;s/Sample/Software/g&#39;</span> nautilus.xml
</span></span><span style=display:flex><span><span style=color:#75715e>#Breaking down the sed command</span>
</span></span><span style=display:flex><span>-i &gt; save the changes to the file --in-place
</span></span><span style=display:flex><span>s &gt; substitue
</span></span><span style=display:flex><span>g &gt; global
</span></span><span style=display:flex><span><span style=color:#75715e>#Using awk, refer to the manual for help</span>
</span></span><span style=display:flex><span>awk <span style=color:#e6db74>&#39;{gsub(&#34;Sample&#34;, &#34;Software&#34;, $0); print &gt; &#34;nautilus.xml&#34;}&#39;</span> nautilus.xml
</span></span><span style=display:flex><span><span style=color:#75715e>#Breaking down the awk command</span>
</span></span><span style=display:flex><span>gsub<span style=color:#f92672>()</span> -&gt; awk <span style=color:#66d9ef>function</span> to globally substitue the Sample word with Software
</span></span><span style=display:flex><span>$0 -&gt; refers to the entire input line being proccessed <span style=color:#f92672>(</span>awk reads the input file line by line <span style=color:#66d9ef>until</span> it reaches the end of file<span style=color:#f92672>)</span>.
</span></span><span style=display:flex><span>print &gt; <span style=color:#e6db74>&#34;nautilus.xml&#34;</span> -&gt; overwrites the original file with the modified lines
</span></span></code></pre></div></li></ul><hr><h2 id=linux-string-substitute-sed>Linux String Substitute (sed)</h2><ul><li>There is some data on Nautilus App Server 1 in Stratos DC. Data needs to be altered in several of the files. On Nautilus App Server 1, alter the /home/BSD.txt file as per details given below:</li><li>a. Delete all lines containing word following and save results in /home/BSD_DELETE.txt file. (Please be aware of case sensitivity)</li><li>b. Replace all occurrence of word and to them and save results in /home/BSD_REPLACE.txt file.</li><li>Note: Let&rsquo;s say you are asked to replace word to with from. In that case, make sure not to alter any words containing this string; for example upto, contributor etc.</li></ul><h6 id=solution-6>Solution:</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell><span style=display:flex><span><span style=color:#75715e>#ssh to app server 1</span>
</span></span><span style=display:flex><span>sshpass -p Ir0nM@n ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no tony@stapp01
</span></span><span style=display:flex><span><span style=color:#75715e>#switch to roo user</span>
</span></span><span style=display:flex><span>sudo su -
</span></span><span style=display:flex><span><span style=color:#75715e>#cd the /home dir and cat the BSD.txt</span>
</span></span><span style=display:flex><span>cd /home 
</span></span><span style=display:flex><span>cat BSD.txt
</span></span><span style=display:flex><span><span style=color:#75715e>#Delete all lines containing word following and save results in /home/BSD_DELETE.txt file.</span>
</span></span><span style=display:flex><span>sed <span style=color:#e6db74>&#39;/\&lt;following\&gt;/d&#39;</span> /home/BSD.txt &gt; /home/BSD_DELETE.txt
</span></span><span style=display:flex><span><span style=color:#75715e>#Here, \&lt; and \&gt; are word boundaries in regular expressions, ensuring that only the exact word &#34;following&#34; is </span>
</span></span><span style=display:flex><span>matched and not parts of other words.
</span></span><span style=display:flex><span><span style=color:#75715e>#Cat the original file and the modified one to verify</span>
</span></span><span style=display:flex><span>cat BSD.txt | grep following 
</span></span><span style=display:flex><span>cat BSD_DELETE.txt | grep follwing
</span></span><span style=display:flex><span><span style=color:#75715e>#Replace all occurrence of word and to them and save results in /home/BSD_REPLACE.txt file.</span>
</span></span><span style=display:flex><span>sed <span style=color:#e6db74>&#39;s/\band\b/them/g&#39;</span> /home/BSD.txt &gt; /home/BSD_REPLACE.txt
</span></span><span style=display:flex><span><span style=color:#75715e>#Here, \b represents word boundaries in regular expressions, ensuring that only the word &#34;and&#34; is matched as a standalone word and not parts of other   </span>
</span></span><span style=display:flex><span>words. 
</span></span><span style=display:flex><span><span style=color:#75715e>#Cat the modified file to verify</span>
</span></span><span style=display:flex><span>cat BSD_REPLACE.txt | grep them
</span></span><span style=display:flex><span>cat BSD_REPLACE.txt | grep them
</span></span></code></pre></div></li></ul></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://chxmxii.github.io/portfolio/tags/devops/>DevOps</a></span>
<span class=tag><a href=https://chxmxii.github.io/portfolio/tags/sysadmin/>Sysadmin</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>1551 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2023-05-14 00:00</p></div><hr><div class=sharing-buttons><a class=resp-sharing-button__link href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fchxmxii.github.io%2fportfolio%2fposts%2f2023%2f05%2fkodekloud-engineer-system-administration-challenges%2f" target=_blank rel=noopener aria-label title="Share on facebook"><div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fchxmxii.github.io%2fportfolio%2fposts%2f2023%2f05%2fkodekloud-engineer-system-administration-challenges%2f" target=_blank rel=noopener aria-label title="Share on twitter"><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://www.tumblr.com/widgets/share/tool?posttype=link&amp;title=KodeKloud%20Engineer%20System%20Administration%20Challenges&amp;caption=KodeKloud%20Engineer%20System%20Administration%20Challenges&amp;canonicalUrl=https%3a%2f%2fchxmxii.github.io%2fportfolio%2fposts%2f2023%2f05%2fkodekloud-engineer-system-administration-challenges%2f" target=_blank rel=noopener aria-label title="Share on tumblr"><div class="resp-sharing-button resp-sharing-button--tumblr resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.563 24c-5.093.0-7.031-3.756-7.031-6.411V9.747H5.116V6.648c3.63-1.313 4.512-4.596 4.71-6.469C9.84.051 9.941.0 9.999.0h3.517v6.114h4.801v3.633h-4.82v7.47c.016 1.001.375 2.371 2.207 2.371h.09c.631-.02 1.486-.205 1.936-.419l1.156 3.425c-.436.636-2.4 1.374-4.156 1.404h-.178l.011.002z"/></svg></div></div></a><a class=resp-sharing-button__link href="mailto:?subject=KodeKloud%20Engineer%20System%20Administration%20Challenges&amp;body=https%3a%2f%2fchxmxii.github.io%2fportfolio%2fposts%2f2023%2f05%2fkodekloud-engineer-system-administration-challenges%2f" target=_self rel=noopener aria-label title="Share via email"><div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></div></div></a><a class=resp-sharing-button__link href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fchxmxii.github.io%2fportfolio%2fposts%2f2023%2f05%2fkodekloud-engineer-system-administration-challenges%2f&amp;media=https%3a%2f%2fchxmxii.github.io%2fportfolio%2fposts%2f2023%2f05%2fkodekloud-engineer-system-administration-challenges%2f;description=KodeKloud%20Engineer%20System%20Administration%20Challenges" target=_blank rel=noopener aria-label title="Share on pinterest"><div class="resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none"><path d="M12.017.0C5.396.0.029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024.0 1.518.769 1.518 1.688.0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128.0 3.768-2.245 3.768-5.487.0-2.861-2.063-4.869-5.008-4.869-3.41.0-5.409 2.562-5.409 5.199.0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646.0-3.776 2.748-7.252 7.92-7.252 4.158.0 7.392 2.967 7.392 6.923.0 4.135-2.607 7.462-6.233 7.462-1.214.0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607.0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017.0z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fchxmxii.github.io%2fportfolio%2fposts%2f2023%2f05%2fkodekloud-engineer-system-administration-challenges%2f&amp;title=KodeKloud%20Engineer%20System%20Administration%20Challenges&amp;summary=KodeKloud%20Engineer%20System%20Administration%20Challenges&amp;source=https%3a%2f%2fchxmxii.github.io%2fportfolio%2fposts%2f2023%2f05%2fkodekloud-engineer-system-administration-challenges%2f" target=_blank rel=noopener aria-label title="Share on linkedin"><div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></div></div></a><a class=resp-sharing-button__link href="https://reddit.com/submit/?url=https%3a%2f%2fchxmxii.github.io%2fportfolio%2fposts%2f2023%2f05%2fkodekloud-engineer-system-administration-challenges%2f&amp;resubmit=true&amp;title=KodeKloud%20Engineer%20System%20Administration%20Challenges" target=_blank rel=noopener aria-label title="Share on reddit"><div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none"><path d="M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 4.744c.688.0 1.25.561 1.25 1.249a1.25 1.25.0 01-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968.0 1.754.786 1.754 1.754.0.716-.435 1.333-1.01 1.614a3.111 3.111.0 01.042.52c0 2.694-3.13 4.87-7.004 4.87s-7.004-2.176-7.004-4.87c0-.183.015-.366.043-.534A1.748 1.748.0 014.028 12c0-.968.786-1.754 1.754-1.754.463.0.898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342.0 01.14-.197.35.35.0 01.238-.042l2.906.617a1.214 1.214.0 011.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687.0 1.248-.561 1.248-1.249S9.937 12 9.249 12zm5.5.0c-.687.0-1.248.561-1.248 1.25.0.687.561 1.248 1.249 1.248S16 13.937 16 13.249c0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327.0 00-.231.094.33.33.0 000 .463c.842.842 2.484.913 2.961.913s2.105-.056 2.961-.913a.361.361.0 00.029-.463.33.33.0 00-.464.0c-.547.533-1.684.73-2.512.73-.828.0-1.979-.196-2.512-.73a.326.326.0 00-.232-.095z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://www.xing.com/app/user?op=share;url=https%3a%2f%2fchxmxii.github.io%2fportfolio%2fposts%2f2023%2f05%2fkodekloud-engineer-system-administration-challenges%2f;title=KodeKloud%20Engineer%20System%20Administration%20Challenges" target=_blank rel=noopener aria-label title="Share on xing"><div class="resp-sharing-button resp-sharing-button--xing resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none"><path d="M18.188.0c-.517.0-.741.325-.927.66.0.0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211.0.375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016.0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894.0 21.686.0h-3.498zM3.648 4.74c-.211.0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016.0.021L1.86 16.051c-.099.188-.093.381.0.529.085.142.239.234.45.234h3.461c.518.0.766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/></svg></div></div></a><a class=resp-sharing-button__link href="whatsapp://send?text=KodeKloud%20Engineer%20System%20Administration%20Challenges%20https%3a%2f%2fchxmxii.github.io%2fportfolio%2fposts%2f2023%2f05%2fkodekloud-engineer-system-administration-challenges%2f" target=_blank rel=noopener aria-label title="Share on whatsapp"><div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198.0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479.0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87.0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86.0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64.0 5.122 1.03 6.988 2.898a9.825 9.825.0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815.0 0012.05.0C5.495.0.16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882.0 005.683 1.448h.005c6.554.0 11.89-5.335 11.893-11.893a11.821 11.821.0 00-3.48-8.413z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fchxmxii.github.io%2fportfolio%2fposts%2f2023%2f05%2fkodekloud-engineer-system-administration-challenges%2f&amp;t=KodeKloud%20Engineer%20System%20Administration%20Challenges" target=_blank rel=noopener aria-label title="Share on hacker news"><div class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none"><path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://telegram.me/share/url?text=KodeKloud%20Engineer%20System%20Administration%20Challenges&amp;url=https%3a%2f%2fchxmxii.github.io%2fportfolio%2fposts%2f2023%2f05%2fkodekloud-engineer-system-administration-challenges%2f" target=_blank rel=noopener aria-label title="Share on telegram"><div class="resp-sharing-button resp-sharing-button--telegram resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></div></div></a></div><div class=pagination><div class=pagination__buttons><span class="button next"><a href=https://chxmxii.github.io/portfolio/posts/2022/11/certifications-exam-notes/><span class=button__text>Certifications exam notes</span>
<span class=button__icon>→</span></a></span></div></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>© All right reserved chxmxii - 2022</span></div></div><div class=footer__inner><div class=footer__content><span></span></div></div></footer></div><script type=text/javascript src=https://chxmxii.github.io/portfolio/bundle.min.bb2c6bc3ed452ca4759660e4020811f248bc2320081559e8a32d8b0092773852941133639d35e8370d03d3ddaa750b1edd6b343c5bd22a55d5bdeae8f648f49b.js integrity="sha512-uyxrw+1FLKR1lmDkAggR8ki8IyAIFVnooy2LAJJ3OFKUETNjnTXoNw0D092qdQse3Ws0PFvSKlXVvero9kj0mw=="></script></body></html>