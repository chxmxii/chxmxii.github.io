<!doctype html><html lang=en><link rel=icon href=https://chxmxii.tech/mor.jpg type=image/icontype><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="map[name:chxmxii_]"><meta name=description content="Git Install and Create Bare Repository The Nautilus development team shared requirements with the DevOps team regarding new application development.—specifically, they want to set up a Git repository for that project. Create a Git repository on Storage server in Stratos DC as per details given below:
Install git package using yum on Storage server. After that create a bare repository /opt/blog.git (make sure to use exact name). Solution $ sshpass -p Bl@kW ssh -o StrictHostKeyChecking=no natasha@ststor01 $ sudo yum install -y git $ sudo mkdir /opt/blog."><meta name=keywords content=",DevOps,Sysadmin,Ansible"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://chxmxii.tech/writeups/post01.txt/><title>KKE - Git Challenges :: Mouhib CHVMSI
</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=https://chxmxii.tech/main.f9efc3f937d6f1177418d008b46474fa1df286cee3b42e861ea657dc0d31f2fe.css><link rel=apple-touch-icon sizes=180x180 href=https://chxmxii.tech/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://chxmxii.tech/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://chxmxii.tech/favicon-16x16.png><link rel=manifest href=https://chxmxii.tech/site.webmanifest><link rel=mask-icon href=https://chxmxii.tech/safari-pinned-tab.svg color><link rel="shortcut icon" href=https://chxmxii.tech/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="KKE - Git Challenges"><meta itemprop=description content="Git Install and Create Bare Repository The Nautilus development team shared requirements with the DevOps team regarding new application development.—specifically, they want to set up a Git repository for that project. Create a Git repository on Storage server in Stratos DC as per details given below:
Install git package using yum on Storage server. After that create a bare repository /opt/blog.git (make sure to use exact name). Solution $ sshpass -p Bl@kW ssh -o StrictHostKeyChecking=no natasha@ststor01 $ sudo yum install -y git $ sudo mkdir /opt/blog."><meta itemprop=datePublished content="2023-08-15T00:00:00+00:00"><meta itemprop=dateModified content="2023-08-15T00:00:00+00:00"><meta itemprop=wordCount content="3298"><meta itemprop=image content="https://chxmxii.tech"><meta itemprop=keywords content="DevOps,Sysadmin,Ansible,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://chxmxii.tech"><meta name=twitter:title content="KKE - Git Challenges"><meta name=twitter:description content="Git Install and Create Bare Repository The Nautilus development team shared requirements with the DevOps team regarding new application development.—specifically, they want to set up a Git repository for that project. Create a Git repository on Storage server in Stratos DC as per details given below:
Install git package using yum on Storage server. After that create a bare repository /opt/blog.git (make sure to use exact name). Solution $ sshpass -p Bl@kW ssh -o StrictHostKeyChecking=no natasha@ststor01 $ sudo yum install -y git $ sudo mkdir /opt/blog."><meta property="og:title" content="KKE - Git Challenges"><meta property="og:description" content="Git Install and Create Bare Repository The Nautilus development team shared requirements with the DevOps team regarding new application development.—specifically, they want to set up a Git repository for that project. Create a Git repository on Storage server in Stratos DC as per details given below:
Install git package using yum on Storage server. After that create a bare repository /opt/blog.git (make sure to use exact name). Solution $ sshpass -p Bl@kW ssh -o StrictHostKeyChecking=no natasha@ststor01 $ sudo yum install -y git $ sudo mkdir /opt/blog."><meta property="og:type" content="article"><meta property="og:url" content="https://chxmxii.tech/writeups/post01.txt/"><meta property="og:image" content="https://chxmxii.tech"><meta property="article:section" content="writeups"><meta property="article:published_time" content="2023-08-15T00:00:00+00:00"><meta property="article:modified_time" content="2023-08-15T00:00:00+00:00"><meta property="og:see_also" content="https://chxmxii.tech/posts/2023/11/boost-your-apps-security-with-this-open-source-tool./"><meta property="og:see_also" content="https://chxmxii.tech/posts/2023/09/certifications-exam-notes/"><meta property="og:see_also" content="https://chxmxii.tech/writeups/post10.txt/"><meta property="og:see_also" content="https://chxmxii.tech/writeups/post09.txt/"><meta property="og:see_also" content="https://chxmxii.tech/writeups/post04.txt/"><meta property="article:published_time" content="2023-08-15 00:00:00 +0000 UTC"></head><body><div class=container><header class=header><span class=header__inner><a href=https://chxmxii.tech/ style=text-decoration:none><div class=logo><span class=logo__mark></span><span class=logo__text>C:\Users\chxmxii\</span>
<span class=logo__text style=color:#ff3c36>post01.txt</span>
<span class=logo__cursor style=background-color:#ff3c36></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://chxmxii.tech/about.txt/ style=text-decoration:none class=name>About</a></li><li><a href=https://chxmxii.tech/posts/ style=text-decoration:none class=name>Posts</a></li><li><a href=https://chxmxii.tech/projects/ style=text-decoration:none class=name>Projects</a></li><li><a href=https://chxmxii.tech/writeups/ style=text-decoration:none class=name>Writeups</a></li><li><a href=https://chxmxii.tech/cv.pdf style=text-decoration:none class=name>~Resume</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://chxmxii.tech/writeups/post01.txt/>KKE - Git Challenges</a></h2><div class=post-content><h2 id=filesgitpngcenter><img src=https://chxmxii.tech/files/git.png#center alt></h2><h2 id=git-install-and-create-bare-repository>Git Install and Create Bare Repository</h2><p>The Nautilus development team shared requirements with the DevOps team regarding new application development.—specifically, they want to set up a Git repository for that project. Create a Git repository on Storage server in Stratos DC as per details given below:</p><ul><li>Install git package using yum on Storage server.</li><li>After that create a bare repository /opt/blog.git (make sure to use exact name).</li></ul><h6 id=solution>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ sudo yum install -y git
</span></span><span style=display:flex><span>$ sudo mkdir /opt/blog.git <span style=color:#f92672>&amp;&amp;</span> cd $_
</span></span><span style=display:flex><span>$ sudo git init -bare 
</span></span></code></pre></div></li></ul><hr><h2 id=git-clone-repositories>Git Clone Repositories</h2><p>DevOps team created a new Git repository last week; however, as of now no team is using it. The Nautilus application development team recently asked for a copy of that repo on Storage server in Stratos DC. Please clone the repo as per details shared below:</p><ul><li>The repo that needs to be cloned is /opt/news.git</li><li>Clone this git repository under /usr/src/kodekloudrepos directory. Please do not try to make any changes in the repo.</li></ul><h6 id=solution-1>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ cd /usr/src/kodekloudrepos
</span></span><span style=display:flex><span>$ sudo git clone /opt/news.git 
</span></span></code></pre></div></li></ul><hr><h2 id=git-fork-a-repository>Git Fork a Repository</h2><p>There is a Git server used by the Nautilus project teams. Recently a new developer Jon joined the team and needs to start working on a project. To do so, he needs to fork an existing Git repository. Below you can find more details:</p><ul><li>Click on the Gitea UI button on the top bar. You should be able to access the Gitea page.</li><li>Login to Gitea server using username jon and password Jon_pass123.</li><li>There you will see a Git repository sarah/story-blog, fork it under jon user.</li><li>Note: For these kind of scenarios requiring changes to be done in a web UI, please take screenshots so that you can share it with us for review in case your task is marked incomplete. You may also consider using a screen recording software such as loom.com to record and share your work.</li></ul><h6 id=solution-2>Solution:</h6><ul><li><pre tabindex=0><code class=language-M data-lang=M>Login
Go to the repo sarah/story-blog and fork it.
</code></pre></li></ul><hr><h2 id=git-repository-update>Git Repository Update</h2><p>The Nautilus development team started with new project development. They have created different Git repositories to manage respective project&rsquo;s source code. One of the repositories /opt/cluster.git was created recently. The team has given us a sample index.html file that is currently present on jump host under /tmp directory. The repository has been cloned at /usr/src/kodekloudrepos on storage server in Stratos DC.</p><ul><li>Copy sample index.html file from jump host to storage server under cloned repository at /usr/src/kodekloudrepos/cluster, further add/commit the file and push to the master branch.</li></ul><h6 id=solution-3>Solution:</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ scp /tmp/index.html natasha@ststor01:/tmp/
</span></span><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ cp /tmp/index.html /usr/src/kodekloudrepos/cluster/
</span></span><span style=display:flex><span>$ sudo git add *
</span></span><span style=display:flex><span>$ sudo git commit -m <span style=color:#e6db74>&#34;kodekloud&#34;</span>
</span></span><span style=display:flex><span>$ sudo git push
</span></span><span style=display:flex><span>$ sudo git logs
</span></span></code></pre></div></li></ul><hr><h2 id=git-repository-update-1>Git Repository Update</h2><p>Nautilus developers are actively working on one of the project repositories, /usr/src/kodekloudrepos/blog. They were doing some testing and created few test branches, now they want to clean those test branches. Below are the requirements that have been shared with the DevOps team:</p><ul><li>On Storage server in Stratos DC delete a branch named xfusioncorp_blog from /usr/src/kodekloudrepos/blog git repo.</li></ul><h6 id=solution-4>Solution:</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ cd /usr/src/kodekloudrepos/blog 
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span><span style=display:flex><span>$ sudo git checkout master <span style=color:#75715e>#to switch the current branch to master</span>
</span></span><span style=display:flex><span>$ sudo git branch -d xfusioncorp_blog
</span></span><span style=display:flex><span>$ sudo git bracnh -a
</span></span></code></pre></div></li></ul><hr><h2 id=git-install-and-create-repository>Git Install and Create Repository</h2><p>The Nautilus development team shared with the DevOps team requirements for new application development, setting up a Git repository for that project. Create a Git repository on Storage server in Stratos DC as per details given below:</p><ul><li>Install git package using yum on Storage server.</li><li>After that, create/init a git repository named /opt/news.git (use the exact name as asked and make sure not to create a bare repository).</li></ul><h6 id=solution-5>Solution:</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ sudo yum install -y git
</span></span><span style=display:flex><span>$ sudo git init /opt/news.git
</span></span><span style=display:flex><span>$ ls -a /opt/news.git
</span></span></code></pre></div></li></ul><hr><h2 id=git-create-branches>Git Create Branches</h2><p>Nautilus developers are actively working on one of the project repositories, /usr/src/kodekloudrepos/demo. Recently, they decided to implement some new features in the application, and they want to maintain those new changes in a separate branch. Below are the requirements that have been shared with the DevOps team:</p><ul><li>On Storage server in Stratos DC create a new branch xfusioncorp_demo from master branch in /usr/src/kodekloudrepos/demo git repo.</li><li>Please do not try to make any changes in the code.</li></ul><h6 id=solution-6>Solution:</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ cd /usr/src/kodekloudrepos/demo
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span><span style=display:flex><span>$ sudo git checkout master
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span><span style=display:flex><span>$ sudo git branch xfusioncorp_demo
</span></span><span style=display:flex><span>$ sudo git checkout xfusioncorp_demo
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span></code></pre></div></li></ul><hr><h2 id=git-merge-branches>Git Merge Branches</h2><p>The Nautilus application development team has been working on a project repository /opt/demo.git. This repo is cloned at /usr/src/kodekloudrepos on storage server in Stratos DC. They recently shared the following requirements with DevOps team:</p><ul><li>Create a new branch nautilus in /usr/src/kodekloudrepos/demo repo from master and copy the /tmp/index.html file (present on storage server itself) into the repo. Further, add/commit this file in the new branch and merge back that branch into master branch. Finally, push the changes to the origin for both of the branches.</li></ul><h6 id=solution-7>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ cd /usr/src/kodekloudrepos/demo
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span><span style=display:flex><span>$ sudo git branch nautilus
</span></span><span style=display:flex><span>$ sudo git checkout nautilus
</span></span><span style=display:flex><span>$ sudo cp /tmp/index.html .
</span></span><span style=display:flex><span>$ sudo git add *
</span></span><span style=display:flex><span>$ sudo git commit -m <span style=color:#e6db74>&#34;kke&#34;</span>
</span></span><span style=display:flex><span>$ sudo git checkout master
</span></span><span style=display:flex><span>$ sudo git pull origin master
</span></span><span style=display:flex><span>$ sudo git merge nautilus
</span></span><span style=display:flex><span>$ sudo git push origin master
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span></code></pre></div></li></ul><hr><h2 id=git-manage-remotes>Git Manage Remotes</h2><p>The xFusionCorp development team added updates to the project that is maintained under /opt/cluster.git repo and cloned under /usr/src/kodekloudrepos/cluster. Recently some changes were made on Git server that is hosted on Storage server in Stratos DC. The DevOps team added some new Git remotes, so we need to update remote on /usr/src/kodekloudrepos/cluster repository as per details mentioned below:</p><ul><li>In /usr/src/kodekloudrepos/cluster repo add a new remote dev_cluster and point it to /opt/xfusioncorp_cluster.git repository.</li><li>There is a file /tmp/index.html on same server; copy this file to the repo and add/commit to master branch.</li><li>Finally push master branch to this new remote origin.</li></ul><h6 id=solution-8>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ cd /usr/src/kodekloudrepos/cluster/
</span></span><span style=display:flex><span>$ sudo git remote add dev_cluster /opt/xfusioncorp_cluster.git
</span></span><span style=display:flex><span>$ sudo cp /tmp/index.html .
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span><span style=display:flex><span>$ sudo git add *
</span></span><span style=display:flex><span>$ sudo git commit -m <span style=color:#e6db74>&#34;kke&#34;</span>
</span></span><span style=display:flex><span>$ sudo git push -uf dev_cluster master
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span></code></pre></div></li></ul><hr><h2 id=git-revert-some-changes>Git Revert Some Changes</h2><p>The Nautilus application development team was working on a git repository /usr/src/kodekloudrepos/beta present on Storage server in Stratos DC. However, they reported an issue with the recent commits being pushed to this repo. They have asked the DevOps team to revert repo HEAD to last commit. Below are more details about the task:</p><ul><li>In /usr/src/kodekloudrepos/beta git repository, revert the latest commit ( HEAD ) to the previous commit (JFYI the previous commit hash should be with initial commit message ).</li><li>Use revert beta message (please use all small letters for commit message) for the new revert commit.</li></ul><h6 id=solution-9>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ cd /usr/src/kodekloudrepos/beta/
</span></span><span style=display:flex><span>$ sudo git log
</span></span><span style=display:flex><span>$ sudo git revert HEAD~1
</span></span><span style=display:flex><span>$ sudo git revert 8f7896cd77c3204d4f111e78652958c386d2b241
</span></span><span style=display:flex><span>$ sudo git add *
</span></span><span style=display:flex><span>$ sudo git commit -m <span style=color:#e6db74>&#34;revert beta&#34;</span>
</span></span><span style=display:flex><span>$ sudo git push
</span></span></code></pre></div></li></ul><hr><h2 id=git-cherry-pick>Git Cherry Pick</h2><p>The Nautilus application development team has been working on a project repository /opt/games.git. This repo is cloned at /usr/src/kodekloudrepos on storage server in Stratos DC. They recently shared the following requirements with the DevOps team:</p><ul><li>There are two branches in this repository, master and feature. One of the developers is working on the feature branch and their work is still in progress, however they want to merge one of the commits from the feature branch to the master branch, the message for the commit that needs to be merged into master is Update info.txt. Accomplish this task for them, also remember to push your changes eventually.</li></ul><h6 id=solution-10>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ cd /usr/src/kodekloudrepos/game
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span><span style=display:flex><span>$ sudo git checkout master
</span></span><span style=display:flex><span>$ sudo git loge
</span></span><span style=display:flex><span>$ sudo git log
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span><span style=display:flex><span>$ sudo git checkout master
</span></span><span style=display:flex><span>$ sudo git cherry-pick 97248b4fbc64a45b0d6251f2dfaafd275639b013
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span><span style=display:flex><span>$ sudo git log
</span></span><span style=display:flex><span>$ sudo git push
</span></span></code></pre></div></li></ul><hr><h2 id=manage-git-pull-requests>Manage Git Pull Requests</h2><p>Max want to push some new changes to one of the repositories but we don&rsquo;t want people to push directly to master branch, since that would be the final version of the code. It should always only have content that has been reviewed and approved. We cannot just allow everyone to directly push to the master branch. So, let&rsquo;s do it the right way as discussed below:</p><ul><li>SSH into storage server using user max, password Max_pass123 . There you can find an already cloned repo under Max user&rsquo;s home.</li><li>Max has written his story about The 🦊 Fox and Grapes 🍇</li><li>Max has already pushed his story to remote git repository hosted on Gitea branch story/fox-and-grapes</li><li>Check the contents of the cloned repository. Confirm that you can see Sarah&rsquo;s story and history of commits by running git log and validate author info, commit message etc.</li><li>Max has pushed his story, but his story is still not in the master branch. Let&rsquo;s create a Pull Request(PR) to merge Max&rsquo;s story/fox-and-grapes branch into the master branch</li><li>Click on the Gitea UI button on the top bar. You should be able to access the Gitea page.</li><li>UI login info:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>- Username: max
</span></span><span style=display:flex><span>- Password: Max_pass123
</span></span><span style=display:flex><span>PR title : Added fox-and-grapes story
</span></span><span style=display:flex><span>PR pull from branch: story/fox-and-grapes (source)
</span></span><span style=display:flex><span>PR merge into branch: master (destination)
</span></span></code></pre></div></li><li>Before we can add our story to the master branch, it has to be reviewed. So, let&rsquo;s ask tom to review our PR by assigning him as a reviewer</li><li>Add tom as reviewer through the Git Portal UI</li><li>Go to the newly created PR</li><li>Click on Reviewers on the right</li><li>Add tom as a reviewer to the PR</li><li>Now let&rsquo;s review and approve the PR as user Tom</li><li>Login to the portal with the user tom</li><li>Logout of Git Portal UI if logged in as max</li><li>UI login info:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>  - Username: tom
</span></span><span style=display:flex><span>  - Password: Tom_pass123
</span></span><span style=display:flex><span>  PR title : Added fox-and-grapes story
</span></span><span style=display:flex><span>  Review and merge it.
</span></span></code></pre></div></li><li>Great stuff!! The story has been merged! 👏</li></ul><h6 id=solution-11>Solution:</h6><blockquote><p>Challenges inherently provide instruction; there&rsquo;s no requirement to reconfigure the solution, as it&rsquo;s already implemented at the GUI level."</p></blockquote><hr><h2 id=git-hard-reset>Git Hard Reset</h2><p>The Nautilus application development team was working on a git repository /usr/src/kodekloudrepos/news present on Storage server in Stratos DC. This was just a test repository and one of the developers just pushed a couple of changes for testing, but now they want to clean this repository along with the commit history/work tree, so they want to point back the HEAD and the branch itself to a commit with message add data.txt file. Find below more details:</p><ul><li>In /usr/src/kodekloudrepos/news git repository, reset the git commit history so that there are only two commits in the commit history i.e initial commit and add data.txt file.</li><li>Also make sure to push your changes.</li></ul><h6 id=solution-12>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ ls
</span></span><span style=display:flex><span>$ sudo git log
</span></span><span style=display:flex><span>$ sudo git reset --hard 301e43558ad3be731e78e410777816cb9d9f15d7
</span></span><span style=display:flex><span>$ sudo git log
</span></span><span style=display:flex><span>$ sudo git push -uf  
</span></span></code></pre></div></li></ul><hr><h2 id=git-clean>Git Clean</h2><p>The Nautilus application development team was working on a git repository /usr/src/kodekloudrepos/blog present on Storage server in Stratos DC. One of the developers mistakenly created a couple of files under this repository, but now they want to clean this repository without adding/pushing any new files. Find below more details:</p><ul><li>Clean the /usr/src/kodekloudrepos/blog git repository without adding/pushing any new files, make sure git status is clean.</li></ul><h6 id=solution-13>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ cd /usr/src/kodekloudrepos/blog
</span></span><span style=display:flex><span>$ sudo git status
</span></span><span style=display:flex><span>$ sudo git clean -f
</span></span><span style=display:flex><span>$ sudo git status
</span></span></code></pre></div></li></ul><hr><h2 id=git-stash>Git Stash</h2><p>The Nautilus application development team was working on a git repository /usr/src/kodekloudrepos/demo present on Storage server in Stratos DC. One of the developers stashed some in-progress changes in this repository, but now they want to restore some of the stashed changes. Find below more details to accomplish this task:</p><ul><li>Look for the stashed changes under /usr/src/kodekloudrepos/demo git repository, and restore the stash with stash@{1} identifier. Further, commit and push your changes to the origin.</li></ul><h6 id=solution-14>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ cd /usr/src/kodekloudrepos/demo
</span></span><span style=display:flex><span>$ sudo git log
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span><span style=display:flex><span>$ sudo git stash list
</span></span><span style=display:flex><span>$ sudo git stash show
</span></span><span style=display:flex><span>$ sudo git stash pop stash@<span style=color:#f92672>{</span>1<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>$ sudo git add *
</span></span><span style=display:flex><span>$ sudo git commit 
</span></span><span style=display:flex><span>$ sudo git commit -m <span style=color:#e6db74>&#34;kke&#34;</span>
</span></span><span style=display:flex><span>$ sudo git push
</span></span></code></pre></div></li></ul><hr><h2 id=git-rebase>Git Rebase</h2><p>The Nautilus application development team has been working on a project repository /opt/beta.git. This repo is cloned at /usr/src/kodekloudrepos on storage server in Stratos DC. They recently shared the following requirements with DevOps team:</p><ul><li>One of the developers is working on feature branch and their work is still in progress, however there are some changes which have been pushed into the master branch, the developer now wants to rebase the feature branch with the master branch without loosing any data from the feature branch, also they don&rsquo;t want to add any merge commit by simply merging the master branch into the feature branch. Accomplish this task as per requirements mentioned.</li></ul><h6 id=solution-15>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>  $ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>  $ cd /usr/src/kodekloudrepos/blog/
</span></span><span style=display:flex><span>  $ sudo git rebase master feature
</span></span><span style=display:flex><span>  $ sudo git push origin feature
</span></span><span style=display:flex><span>  $ sudo git pull origin feature
</span></span><span style=display:flex><span>  $ sudo git config pull.rebase true
</span></span><span style=display:flex><span>  $ sudo git pull origin feature
</span></span><span style=display:flex><span>  $ sudo git push origin feature 
</span></span></code></pre></div></li></ul><hr><h2 id=manage-git-repositories>Manage Git Repositories</h2><p>A new developer just joined the Nautilus development team and has been assigned a new project for which he needs to create a new repository under his account on Gitea server. Additionally, there is some existing data that need to be added to the repo. Below you can find more details about the task:</p><ul><li>Click on the Gitea UI button on the top bar. You should be able to access the Gitea UI. Login to Gitea server using username max and password Max_pass123.</li><li>Create a new git repository story_media under max user.</li><li>SSH into storage server using user max and password Max_pass123 and clone this newly created repository under user max home directory i.e /home/max.</li><li>Copy all files from location /usr/devops to the repository and commit/push your changes to the master branch. The commit message must be &ldquo;add stories&rdquo; (must be done in single commit).</li><li>Create a new branch max_cluster from master.</li><li>Copy a file story-index-max.txt from location /tmp/stories/ to the repository. This file has a typo, which you can fix by changing the word Mooose to Mouse. Commit and push the changes to the newly created branch. Commit message must be &ldquo;typo fixed for Mooose&rdquo; (must be done in single commit).</li></ul><h6 id=solution-16>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>  $ sshpass -p Max_pass123 ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no max@ststor01
</span></span><span style=display:flex><span>  $ pwd
</span></span><span style=display:flex><span>  $ git clone http://git.stratos.xfusioncorp.com/max/story_media.git
</span></span><span style=display:flex><span>  $ cd story_media/
</span></span><span style=display:flex><span>  $ cp /usr/devops/* .
</span></span><span style=display:flex><span>  $ git add *; git commit -m <span style=color:#e6db74>&#34;add stories&#34;</span>; git push
</span></span><span style=display:flex><span>  $ git branch max_cluster
</span></span><span style=display:flex><span>  $ cp /tmp/stories/story-index-max.txt .
</span></span><span style=display:flex><span>  $ git checkout max_cluster
</span></span><span style=display:flex><span>  $ vi story-index-max.txt 
</span></span><span style=display:flex><span>  $ git branch -a
</span></span><span style=display:flex><span>  $ git add *; git commit -m <span style=color:#e6db74>&#34;typo fixed for Mooose&#34;</span>; git push
</span></span><span style=display:flex><span>  $ git add story-index-max.txt; git commit -m <span style=color:#e6db74>&#34;typo fixed for Mooose&#34;</span>; git push --set-upstream origin max_cluster
</span></span></code></pre></div></li></ul><hr><h2 id=resolve-git-merge-conflicts>Resolve Git Merge Conflicts</h2><p>Sarah and Max were working on writting some stories which they have pushed to the repository. Max has recently added some new changes and is trying to push them to the repository but he is facing some issues. Below you can find more details:</p><ul><li>SSH into storage server using user max and password Max_pass123. Under /home/max you will find the story-blog repository. Try to push the changes to the origin repo and fix the issues. The story-index.txt must have titles for all 4 stories. Additionally, there is a typo in The Lion and the Mooose line where Mooose should be Mouse.</li><li>Click on the Gitea UI button on the top bar. You should be able to access the Gitea page. You can login to Gitea server from UI using username sarah and password Sarah_pass123 or username max and password Max_pass123.</li></ul><h6 id=solution-17>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>  $ sshpass -p Max_pass123 ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no max@ststor01
</span></span><span style=display:flex><span>  $ pwd
</span></span><span style=display:flex><span>  $ vi story-index.txt
</span></span><span style=display:flex><span>  $ git pull origin master
</span></span><span style=display:flex><span>  $ git add story-index.txt 
</span></span><span style=display:flex><span>  $ git commit -m <span style=color:#e6db74>&#34;fix typo and merge request&#34;</span>
</span></span><span style=display:flex><span>  $ git push origin master
</span></span></code></pre></div></li></ul><hr><h2 id=git-hook>Git Hook</h2><p>The Nautilus application development team was working on a git repository /opt/demo.git which is cloned under /usr/src/kodekloudrepos directory present on Storage server in Stratos DC. The team want to setup a hook on this repository, please find below more details:</p><ul><li>Merge the feature branch into the master branch`, but before pushing your changes complete below point.</li><li>Create a post-update hook in this git repository so that whenever any changes are pushed to the master branch, it creates a release tag with name release-2023-06-15, where 2023-06-15 is supposed to be the current date. For example if today is 20th June, 2023 then the release tag must be release-2023-06-20. Make sure you test the hook at least once and create a release tag for today&rsquo;s release.</li><li>Finally remember to push your changes.</li></ul><h6 id=solution-18>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ cd /opt/demo.git/hooks
</span></span><span style=display:flex><span>$ sudo cat &lt;EOF&gt;&gt; post-update
</span></span><span style=display:flex><span>  <span style=color:#75715e>#!/bin/bash</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  date_now<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>date +<span style=color:#e6db74>&#34;%Y-%m-%d&#34;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;refs/heads/master&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>          r_tag<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;release-</span>$date_now<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>          git tag $r_tag <span style=color:#f92672>&amp;&amp;</span> git push --tags
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>$ sudo chmod +x post-update
</span></span><span style=display:flex><span>$ cd /usr/src/kodekloudrepos/demo
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span><span style=display:flex><span>$ sudo checkout master
</span></span><span style=display:flex><span>$ sudo merge feature
</span></span><span style=display:flex><span>$ sudo git push origin master
</span></span></code></pre></div></li></ul><hr><h2 id=git-setup-from-scratch>Git Setup from Scratch</h2><p>Some new developers have joined xFusionCorp Industries and have been assigned Nautilus project. They are going to start development on a new application, and some pre-requisites have been shared with the DevOps team to proceed with. Please note that all tasks need to be performed on storage server in Stratos DC.</p><ul><li>a. Install git, set up any values for user.email and user.name globally and create a bare repository /opt/official.git.</li><li>b. There is an update hook (to block direct pushes to the master branch) under /tmp on storage server itself; use the same to block direct pushes to the master branch in /opt/official.git repo.</li><li>c. Clone /opt/official.git repo in /usr/src/kodekloudrepos/official directory.</li><li>d. Create a new branch named xfusioncorp_official in repo that you cloned under /usr/src/kodekloudrepos directory.</li><li>e. There is a readme.md file in /tmp directory on storage server itself; copy that to the repo, add/commit in the new branch you just created, and finally push your branch to the origin.</li><li>f. Also create master branch from your branch and remember you should not be able to push to the master directly as per the hook you have set up.</li></ul><h6 id=solution-19>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sshpass -p Bl@kW ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no natasha@ststor01
</span></span><span style=display:flex><span>$ sudo yum install git
</span></span><span style=display:flex><span>$ sudo git config --global user.name <span style=color:#e6db74>&#34;chxmxii&#34;</span>
</span></span><span style=display:flex><span>$ sudo git config --global user.email <span style=color:#e6db74>&#34;chxmxii@gmail.com&#34;</span>
</span></span><span style=display:flex><span>$ cd /opt
</span></span><span style=display:flex><span>$ sudo git init --bare official.git
</span></span><span style=display:flex><span>$ sudo cp /tmp/update .
</span></span><span style=display:flex><span>$ sudo git clone /opt/official.git
</span></span><span style=display:flex><span>$ sudo git checkout --orphan xfusioncorp_official
</span></span><span style=display:flex><span>$ sudo git branch -a
</span></span><span style=display:flex><span>$ sudo cp /tmp/readme.md .
</span></span><span style=display:flex><span>$ sudo git add .
</span></span><span style=display:flex><span>$ sudo git commit -m <span style=color:#e6db74>&#34;Added README.md&#34;</span>
</span></span><span style=display:flex><span>$ sudo git push -u origin xfusioncorp_official
</span></span><span style=display:flex><span>$ sudo git checkout -b master
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#VERIFY</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>natasha@ststor01 official<span style=color:#f92672>]</span>$ sudo git branch -a
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>* master
</span></span><span style=display:flex><span>  xfusioncorp_official
</span></span><span style=display:flex><span>  remotes/origin/xfusioncorp_official
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>natasha@ststor01 official<span style=color:#f92672>]</span>$ sudo git push origin master
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Total <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>delta 0<span style=color:#f92672>)</span>, reused <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>delta 0<span style=color:#f92672>)</span>, pack-reused <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>remote: Manual pushes to the master branch is restricted!!
</span></span><span style=display:flex><span>remote: error: hook declined to update refs/heads/master
</span></span><span style=display:flex><span>To /opt/official.git
</span></span><span style=display:flex><span> ! <span style=color:#f92672>[</span>remote rejected<span style=color:#f92672>]</span> master -&gt; master <span style=color:#f92672>(</span>hook declined<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>error: failed to push some refs to <span style=color:#e6db74>&#39;/opt/official.git&#39;</span>
</span></span></code></pre></div></li></ul><hr><blockquote><p>DONE! THANK YOU @KK!</p></blockquote></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://chxmxii.tech/tags/devops/>DevOps</a></span>
<span class=tag><a href=https://chxmxii.tech/tags/sysadmin/>Sysadmin</a></span>
<span class=tag><a href=https://chxmxii.tech/tags/ansible/>Ansible</a></span></p></div><div id=particles-js style=position:fixed;inset:0;z-index:-1></div><script src=https://chxmxii.tech/js/particles.min.js></script><script>particlesJS("particles-js",{particles:{number:{value:25,density:{enable:!0,value_area:800}},color:{value:"#424569"},shape:{type:"circle",stroke:{width:0,color:"#ff3f38"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.2305594644660164,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ff3f38",opacity:.19875815902242794,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"repulse"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})</script></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>© All right reserved chxmxii - 2022</span></div></div><div class=footer__inner><div class=footer__content><span></span></div></div></footer></div><script type=text/javascript src=https://chxmxii.tech/bundle.min.0ff8dfb0afbbd356889404268a3c77b2150f8884d958e7c5cff4053d529b718f4563067607fa968fe39ab722dc94c88e0cb8823cc03cac475cb38e26821d03e5.js integrity="sha512-D/jfsK+701aIlAQmijx3shUPiITZWOfFz/QFPVKbcY9FYwZ2B/qWj+OatyLclMiODLiCPMA8rEdcs44mgh0D5Q=="></script></body></html>