<!doctype html><html lang=en><link rel=icon href=https://chxmxii.tech/mor.jpg type=image/icontype><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="map[name:chxmxii_]"><meta name=description content="Jenkins Installation The DevOps team of xFusionCorp Industries is planning to setup some CI/CD pipelines. After several meetings they have decided to use Jenkins server. So, we need to setup a Jenkins Server as soon as possible. Please complete the task as per requirements mentioned below: Install jenkins on jenkins server using yum utility only, and start its service. You might face timeout issue while starting the Jenkins service, please refer this link for help."><meta name=keywords content=",DevOps,Jenkins,Sysadmin"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://chxmxii.tech/writeups/post04.txt/><title>KKE - Jenkins Challenges :: Mouhib CHVMSI</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=https://chxmxii.tech/main.f9efc3f937d6f1177418d008b46474fa1df286cee3b42e861ea657dc0d31f2fe.css><link rel=apple-touch-icon sizes=180x180 href=https://chxmxii.tech/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://chxmxii.tech/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://chxmxii.tech/favicon-16x16.png><link rel=manifest href=https://chxmxii.tech/site.webmanifest><link rel=mask-icon href=https://chxmxii.tech/safari-pinned-tab.svg color><link rel="shortcut icon" href=https://chxmxii.tech/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="KKE - Jenkins Challenges"><meta itemprop=description content="Jenkins Installation The DevOps team of xFusionCorp Industries is planning to setup some CI/CD pipelines. After several meetings they have decided to use Jenkins server. So, we need to setup a Jenkins Server as soon as possible. Please complete the task as per requirements mentioned below: Install jenkins on jenkins server using yum utility only, and start its service. You might face timeout issue while starting the Jenkins service, please refer this link for help."><meta itemprop=datePublished content="2023-08-20T00:00:00+00:00"><meta itemprop=dateModified content="2023-08-20T00:00:00+00:00"><meta itemprop=wordCount content="2050"><meta itemprop=image content="https://chxmxii.tech"><meta itemprop=keywords content="DevOps,Jenkins,Sysadmin,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://chxmxii.tech"><meta name=twitter:title content="KKE - Jenkins Challenges"><meta name=twitter:description content="Jenkins Installation The DevOps team of xFusionCorp Industries is planning to setup some CI/CD pipelines. After several meetings they have decided to use Jenkins server. So, we need to setup a Jenkins Server as soon as possible. Please complete the task as per requirements mentioned below: Install jenkins on jenkins server using yum utility only, and start its service. You might face timeout issue while starting the Jenkins service, please refer this link for help."><meta property="og:title" content="KKE - Jenkins Challenges"><meta property="og:description" content="Jenkins Installation The DevOps team of xFusionCorp Industries is planning to setup some CI/CD pipelines. After several meetings they have decided to use Jenkins server. So, we need to setup a Jenkins Server as soon as possible. Please complete the task as per requirements mentioned below: Install jenkins on jenkins server using yum utility only, and start its service. You might face timeout issue while starting the Jenkins service, please refer this link for help."><meta property="og:type" content="article"><meta property="og:url" content="https://chxmxii.tech/writeups/post04.txt/"><meta property="og:image" content="https://chxmxii.tech"><meta property="article:section" content="writeups"><meta property="article:published_time" content="2023-08-20T00:00:00+00:00"><meta property="article:modified_time" content="2023-08-20T00:00:00+00:00"><meta property="og:see_also" content="https://chxmxii.tech/posts/2023/09/certifications-exam-notes/"><meta property="og:see_also" content="https://chxmxii.tech/writeups/post10.txt/"><meta property="og:see_also" content="https://chxmxii.tech/writeups/post09.txt/"><meta property="og:see_also" content="https://chxmxii.tech/writeups/post01.txt/"><meta property="og:see_also" content="https://chxmxii.tech/writeups/post07.txt/"><meta property="article:published_time" content="2023-08-20 00:00:00 +0000 UTC"></head><body><div class=container><header class=header><span class=header__inner><a href=https://chxmxii.tech/ style=text-decoration:none><div class=logo><span class=logo__mark></span><span class=logo__text>C:\Users\chxmxii\</span>
<span class=logo__text style=color:#ff3c36>post04.txt</span>
<span class=logo__cursor style=background-color:#ff3c36></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://chxmxii.tech/about.txt/ style=text-decoration:none class=name>About</a></li><li><a href=https://chxmxii.tech/posts/ style=text-decoration:none class=name>Posts</a></li><li><a href=https://chxmxii.tech/projects/ style=text-decoration:none class=name>Projects</a></li><li><a href=https://chxmxii.tech/writeups/ style=text-decoration:none class=name>Writeups</a></li><li><a href=https://chxmxii.tech/cv.pdf style=text-decoration:none class=name>~Resume</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://chxmxii.tech/writeups/post04.txt/>KKE - Jenkins Challenges</a></h2><div class=post-content><h2 id=filesjenkinspngcenter><img src=https://chxmxii.tech/files/jenkins.png#center alt></h2><h2 id=jenkins-installation>Jenkins Installation</h2><ul><li>The DevOps team of xFusionCorp Industries is planning to setup some CI/CD pipelines. After several meetings they have decided to use Jenkins server. So, we need to setup a Jenkins Server as soon as possible. Please complete the task as per requirements mentioned below:</li><li><ol><li>Install jenkins on jenkins server using yum utility only, and start its service. You might face timeout issue while starting the Jenkins service, please refer this link for help.</li></ol></li><li><ol start=2><li>Jenkin&rsquo;s admin user name should be theadmin, password should be Adm!n321, full name should be Rose and email should be <a href=mailto:rose@jenkins.stratos.xfusioncorp.com>rose@jenkins.stratos.xfusioncorp.com</a>.
Note:</li></ol></li><li><ol><li>For this task, ssh into the jenkins server using user root and password S3curePass from jump host.</li></ol></li><li><ol start=2><li>After installing the Jenkins server, please click on the Jenkins button on the top bar to access Jenkins UI and follow the on-screen instructions to create an admin user.</li></ol></li></ul><h6 id=solution>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sshpass -p S3curePass ssh -o StrictHostKeyChecking<span style=color:#f92672>=</span>no root@jenkins
</span></span><span style=display:flex><span>yum install -y wget
</span></span><span style=display:flex><span>wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo
</span></span><span style=display:flex><span>rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io-2023.key
</span></span><span style=display:flex><span>yum install -y java-17-openjdk
</span></span><span style=display:flex><span>yum install -y jenkins
</span></span><span style=display:flex><span>systemctl daemon-reload
</span></span><span style=display:flex><span>systemctl start jenkins
</span></span><span style=display:flex><span>cat /var/lib/jenkins/secrets/initialAdminPassword
</span></span><span style=display:flex><span><span style=color:#75715e>#open jenkins and create your first admin user</span>
</span></span></code></pre></div></li></ul><p><img src=https://chxmxii.tech/files/jenkinstask.png#center alt></p><hr><h2 id=jenkins-plugins>Jenkins Plugins</h2><ul><li>The Nautilus DevOps team has recently setup a Jenkins server, which they want to use for some CI/CD jobs. Before that they want to install some plugins which will be used in most of the jobs. Please find below more details about the task</li><li>Click on the Jenkins button on the top bar to access the Jenkins UI. Login using username admin and Adm!n321 password</li><li>Once logged in, install Git and GitLab plugins. You might need to restart Jenkins service to install these plugins, so we recommend clicking on Restart Jenkins when installation is complete and no jobs are running on plugin installation/update page i.e update centre.</li><li>Note:<ul><li>Once you restart Jenkins service it will go down for some time so please wait for the Jenkins login page to come back before clicking on the Check button.</li></ul></li></ul><h6 id=solution-1>Solution</h6><ul><li><pre tabindex=0><code class=language-M data-lang=M>Dashboard &gt; Manage Jenkins &gt; Plugin Manager.
Search for both plugins Git,Gitlab.
Click on &#34;Restart Jenkins when installation is complete and no jobs&#34;.
</code></pre></li></ul><hr><h2 id=jenkins-create-users>Jenkins Create Users</h2><ul><li>The Nautilus team is planning to use Jenkins for some of their CI/CD pipelines. DevOps team has just installed a fresh Jenkins server and they are configuring it further to be available for use.</li><li>Click on the Jenkins button on the top bar to access the Jenkins UI. Login using username admin and password Adm!n321.</li><li>It has only a sample job for now. A new developer has joined the Nautilus application development team and they want this user to be added to the Jenkins server as per the details mentioned below:</li><li>Create a jenkins user named mark with LQfKeWWxWD password, their full name should be Mark (it is case sensitive).</li><li>Using Project-based Matrix Authorization Strategy assign overall read permission to mark user.</li><li>Remember to remove all permissions for Anonymous users (if given) and make sure admin user has overall Administer permissions.</li><li>There is one existing job, make sure mark only has read permissions to that job (we are not worried about other permissions like Agent, SCM, etc.).</li><li>Note:<ul><li>You might need to install some plugins and restart Jenkins service. So, we recommend clicking on Restart Jenkins when installation is complete and no jobs are running on plugin installation/update page i.e update centre. Also, in case Jenkins UI gets stuck when Jenkins service restarts in the back end, please make sure to refresh the UI page.</li><li>Do not immediately click on Finish button if you have restarted the Jenkins service, please wait for Jenkins login page to come back before finishing your task.</li></ul></li></ul><h6 id=solution-2>Solution</h6><ul><li><pre tabindex=0><code class=language-M data-lang=M>Dashboard &gt; Manage Jenkins &gt; Jenkins’ own user database &gt; Create User. # Add new user and create user &#34;mark&#34;.
Go to &#34;Plugin Manager&#34; and install &#34;Project-based Matrix Authorization Strategy&#34;.
Change the &#34;Authorization&#34; strategy to &#34;Project-based Matrix&#34;
add &#34;admin&#34; and assign the &#34;OVERALL ADMINISTER&#34;.
add &#34;mark&#34; and assign both &#34;OVERALL READ&#34; and &#34;JOB READ&#34;.
save the changes, and restart jenkins.
</code></pre></li></ul><hr><h2 id=jenkins-folders>Jenkins Folders</h2><ul><li>The DevOps team of xFusionCorp Industries is planning to create a number of Jenkins jobs for different tasks. To easily manage the jobs within Jenkins UI they decided to create different Folders for all Jenkins jobs based on usage/nature of these jobs. Based on the requirements shared below please perform the below mentioned task:</li><li>Click on the Jenkins button on the top bar to access the Jenkins UI. Login using username admin and password Adm!n321.</li><li>There are already two jobs httpd-php and services.</li><li>Create a new folder called Apache under Jenkins UI.</li><li>Move the above mentioned two jobs under Apache folder.</li><li>Note:<ul><li>You might need to install some plugins and restart Jenkins service. So, we recommend clicking on Restart Jenkins when installation is complete and no jobs are running on plugin installation/update page i.e update centre. Also, Jenkins UI sometimes gets stuck when Jenkins service restarts in the back end. In this case, please make sure to refresh the UI page.</li></ul></li></ul><h6 id=solution-3>Solution</h6><ul><li><pre tabindex=0><code class=language-M data-lang=M>Install a plugin called &#34;Folder&#34; by cloudBee
Create a new Item called &#34;Apache&#34; and set the type of the item to folder
Right click on the jobs and move them to the apache folder
Restart Jenkins.
</code></pre></li></ul><hr><h2 id=jenkins-install-packages>Jenkins Install Packages</h2><ul><li>Some new requirements have come up to install and configure some packages on the Nautilus infrastructure under Stratos Datacenter. The Nautilus DevOps team installed and configured a new Jenkins server so they wanted to create a Jenkins job to automate this task. Find below more details and complete the task accordingly:</li><li>Click on the Jenkins button on the top bar to access the Jenkins UI. Login using username admin and Adm!n321 password.</li><li>Create a Jenkins job named install-packages and configure it to accomplish below given tasks.</li><li>Add a string parameter named PACKAGE.</li><li>Configure it to install a package on the storage server in Stratos Datacenter provided to the $PACKAGE parameter.</li><li>Note:<ul><li>You might need to install some plugins and restart Jenkins service. So, we recommend clicking on Restart Jenkins when installation is complete and no jobs are running on plugin installation/update page i.e update centre. Also some times Jenkins UI gets stuck when Jenkins service restarts in the back end so in such case please make sure to refresh the UI page.</li><li>Make sure Jenkins job passes even on repetitive runs as validation may try to build the job multiple times.</li></ul></li></ul><h6 id=solution-4>Solution</h6><ul><li><pre tabindex=0><code class=language-M data-lang=M>Install The required SSH Plugins (SSH server, SSH plugin, SSH Credentials Plugin, SSH Agent Plugin)
Create a new credential and store the username:password of user natasha
Go the main config and add new SSH site add the hostname of storage server (ststr01) and add the credential saved by user natasha
Create a new job called &#34;install-packages&#34; and add a string parameter PACKAGE.
Click on &#34;execute shell script on remote hosting using ssh&#34; {BUILD}, add the following command
`echo Bl@kW | sudo -S yum install -y $PACKAGE`
You can test the job, trying to give PACKAGE a value of &#34;wget, zip&#34; etc..
</code></pre></li></ul><hr><h2 id=jenkins-views>Jenkins Views</h2><ul><li><p>The DevOps team of xFusionCorp Industries is planning to create a number of Jenkins jobs for different tasks. So to easily manage the jobs within Jenkins UI they decided to create different views for all Jenkins jobs based on usage/nature of these jobs, - for example nautilus-crons view for all cron jobs. Based on the requirements shared below please perform the below mentioned task:</p></li><li><p>Click on the Jenkins button on the top bar to access the Jenkins UI. Login using username admin and password Adm!n321.</p></li><li><p>Create a Jenkins job named nautilus-test-job.</p></li><li><p>Configure this job to run a simple bash command i.e echo &ldquo;hello world!!&rdquo;.</p></li><li><p>Create a view named nautilus-crons (should be a List View) and make sure nautilus-test-job and nautilus-cron-job (which is already present on Jenkins) jobs are listed under this new view.</p></li><li><p>Schedule this newly created job to build periodically at every minute i.e * * * * * (please make sure to use the cron expression exactly same how it is mentioned here)</p></li><li><p>Make sure the job builds successfully.</p></li><li><p>Note:</p></li><li><p>You might need to install some plugins and restart Jenkins service. So, we recommend clicking on Restart Jenkins when installation is complete and no jobs are running on plugin installation/update page i.e update centre. Also, Jenkins UI sometimes gets stuck when Jenkins service restarts in the back end. In this case please make sure to refresh the UI page.</p></li><li><pre tabindex=0><code class=language-M data-lang=M>Login to jenkins
Create a new Item (JOB) with name &#34;nautilus-test-job&#34;
Within the &#34;Build Trigger&#34; select the option &#34;Build periodically&#34; and on the schedule box write &#34;* * * * *&#34;
Add &#34;Execute as a shell commmand&#34; and put the command `echo &#39;hello world!!&#39;`. SAVE!
New create a new view in the dashboard and add the nautilus-test-job and nautilus-cron-job as a LIST VIEW.
Make sure to RUN the jobs before submitting.
</code></pre></li></ul><hr><h2 id=jenkins-parameterized-builds>Jenkins Parameterized Builds</h2><ul><li>A new DevOps Engineer has joined the team and he will be assigned some Jenkins related tasks. Before that, the team wanted to test a simple parameterized job to understand basic functionality of parameterized builds. He is given a simple parameterized job to build in Jenkins. Please find more details below:</li><li>Click on the Jenkins button on the top bar to access the Jenkins UI. Login using username admin and password Adm!n321.</li><li>Create a parameterized job which should be named as parameterized-job</li><li>Add a string parameter named Stage; its default value should be Build.</li><li>Add a choice parameter named env; its choices should be Development, Staging and Production.</li><li>Configure job to execute a shell command, which should echo both parameter values (you are passing in the job).</li><li>Build the Jenkins job at least once with choice parameter value Development to make sure it passes.</li><li>Note:</li><li>You might need to install some plugins and restart Jenkins service. So, we recommend clicking on Restart Jenkins when installation is complete and no jobs are running on plugin installation/update page i.e update centre. Also, Jenkins UI sometimes gets stuck when Jenkins service restarts in the back end. In this case, please make sure to refresh the UI page.</li></ul><h6 id=solution-5>Solution</h6><ul><li><pre tabindex=0><code class=language-M data-lang=M>Login to jenkins with the user admin
Create a new job, add two parametes String and choices 
Add build &#34;Execute as shell&#34; and run the command &#34;echo $Stage \n echo $env&#34;
Run the job.
</code></pre></li></ul><hr><h2 id=jenkins-workspace>Jenkins Workspace</h2><ul><li>Some developers are working on a common repository where they are testing some features for an application. They are having three branches (excluding the master branch) in this repository where they are adding changes related to these different features. They want to test these changes on Stratos DC app servers so they need a Jenkins job using which they can deploy these different branches as per requirements. Configure a Jenkins job accordingly.</li><li>Click on the Jenkins button on the top bar to access the Jenkins UI. Login using username admin and password Adm!n321.</li><li>Similarly, click on Gitea button to access the Gitea page. Login to Gitea server using username sarah and password Sarah_pass123.</li><li>There is a Git repository named web_app on Gitea where developers are pushing their changes. It has three branches version1, version2 and version3 (excluding the master branch). You need not to make any changes in the repository.</li><li>Create a Jenkins job named app-job.</li><li>Configure this job to have a choice parameter named Branch with choices as given below:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>version1
</span></span><span style=display:flex><span>version2
</span></span><span style=display:flex><span>version3
</span></span></code></pre></div></li><li>Configure the job to fetch changes from above mentioned Git repository and make sure it should fetches the changes from the respective branch which you are passing as a choice in the choice parameter while building the job. For example if you choose version1 then it must fetch and deploy the changes from branch version1.</li><li>Configure this job to use custom workspace rather than a default workspace and custom workspace directory should be created under /var/lib/jenkins (for example /var/lib/jenkins/version1) location rather than under any sub-directory etc. The job should use a workspace as per the value you will pass for Branch parameter while building the job. For example if you choose version1 while building the job then it should create a workspace directory called version1 and should fetch Git repository etc within that directory only.</li><li>Configure the job to deploy code (fetched from Git repository) on storage server (in Stratos DC) under /var/www/html directory. Since its a shared volume.</li></ul><h6 id=solution-6>Solution</h6><ul><li><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>login to jenkins
</span></span><span style=display:flex><span>Install the following plugins (git&amp;ssh) 
</span></span></code></pre></div></li></ul></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://chxmxii.tech/tags/devops/>DevOps</a></span>
<span class=tag><a href=https://chxmxii.tech/tags/jenkins/>Jenkins</a></span>
<span class=tag><a href=https://chxmxii.tech/tags/sysadmin/>Sysadmin</a></span></p></div><div id=particles-js style=position:fixed;inset:0;z-index:-1></div><script src=https://chxmxii.tech/js/particles.min.js></script>
<script>particlesJS("particles-js",{particles:{number:{value:30,density:{enable:!0,value_area:800}},color:{value:"#424569"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.2305594644660164,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.19875815902242794,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"repulse"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})</script></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>© All right reserved chxmxii - 2022</span></div></div><div class=footer__inner><div class=footer__content><span></span></div></div></footer></div><script type=text/javascript src=https://chxmxii.tech/bundle.min.bb2c6bc3ed452ca4759660e4020811f248bc2320081559e8a32d8b0092773852941133639d35e8370d03d3ddaa750b1edd6b343c5bd22a55d5bdeae8f648f49b.js integrity="sha512-uyxrw+1FLKR1lmDkAggR8ki8IyAIFVnooy2LAJJ3OFKUETNjnTXoNw0D092qdQse3Ws0PFvSKlXVvero9kj0mw=="></script></body></html>